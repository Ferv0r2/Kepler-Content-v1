!function(s){function e(e){for(var t,n,a=e[0],r=e[1],c=e[2],o=0,l=[];o<a.length;o++)n=a[o],Object.prototype.hasOwnProperty.call(u,n)&&u[n]&&l.push(u[n][0]),u[n]=0;for(t in r)Object.prototype.hasOwnProperty.call(r,t)&&(s[t]=r[t]);for(p&&p(e);l.length;)l.shift()();return m.push.apply(m,c||[]),i()}function i(){for(var e,t=0;t<m.length;t++){for(var n=m[t],a=!0,r=1;r<n.length;r++){var c=n[r];0!==u[c]&&(a=!1)}a&&(m.splice(t--,1),e=o(o.s=n[0]))}return e}var n={},u={0:0},m=[];function o(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return s[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}o.m=s,o.c=n,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(n,a,function(e){return t[e]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var t=(a=window.webpackJsonp=window.webpackJsonp||[]).push.bind(a);a.push=e;for(var a=a.slice(),r=0;r<a.length;r++)e(a[r]);var p=t;m.push([289,1]),i()}({115:function(e){e.exports=JSON.parse('{"code":{"0":"1L","1":"2L","2":"3L","3":"4L","4":"5L","5":"6L","6":"7L","7":"8L","8":"9L","9":"10L","10":"1M","11":"2M","12":"3M","13":"4M","14":"5M","15":"6M","16":"7M","17":"8M","18":"9M","19":"10M","20":"1S","21":"2S","22":"3S","23":"4S","24":"5S","25":"6S","26":"7S","27":"8S","28":"9S","29":"10S","30":"A","31":"B","32":"C","33":"D","34":"E","36":"1PK","37":"2PK","38":"3PK"},"name":{"0":"1종 대형 포션","1":"2종 대형 포션","2":"3종 대형 포션","3":"4종 대형 포션","4":"5종 대형 포션","5":"믹스 1종 대형 포션","6":"믹스 2종 대형 포션","7":"믹스 3종 대형 포션","8":"믹스 4종 대형 포션","9":"믹스 5종 대형 포션","10":"1종 중형 포션","11":"2종 중형 포션","12":"3종 중형 포션","13":"4종 중형 포션","14":"5종 중형 포션","15":"믹스 1종 중형 포션","16":"믹스 2종 중형 포션","17":"믹스 3종 중형 포션","18":"믹스 4종 중형 포션","19":"믹스 5종 중형 포션","20":"1종 소형 포션","21":"2종 소형 포션","22":"3종 소형 포션","23":"4종 소형 포션","24":"5종 소형 포션","25":"믹스 1종 소형 포션","26":"믹스 2종 소형 포션","27":"믹스 3종 소형 포션","28":"믹스 4종 소형 포션","29":"믹스 5종 소형 포션","30":"믹스스톤 A","31":"믹스스톤 B","32":"믹스스톤 C","33":"믹스스톤 D","34":"믹스스톤 E","36":"하급 곡괭이","37":"중급 곡괭이","38":"상급 곡괭이"},"effect":{"0":"진화 확률 100% 증가","1":"진화 확률 100% 증가","2":"진화 확률 100% 증가","3":"진화 확률 100% 증가","4":"진화 확률 100% 증가","5":"진화 확률 100% 증가","6":"진화 확률 100% 증가","7":"진화 확률 100% 증가","8":"진화 확률 100% 증가","9":"진화 확률 100% 증가","10":"진화 확률 50% 증가","11":"진화 확률 50% 증가","12":"진화 확률 50% 증가","13":"진화 확률 50% 증가","14":"진화 확률 50% 증가","15":"진화 확률 50% 증가","16":"진화 확률 50% 증가","17":"진화 확률 50% 증가","18":"진화 확률 50% 증가","19":"진화 확률 50% 증가","20":"진화 확률 30% 증가","21":"진화 확률 30% 증가","22":"진화 확률 30% 증가","23":"진화 확률 30% 증가","24":"진화 확률 30% 증가","25":"진화 확률 30% 증가","26":"진화 확률 30% 증가","27":"진화 확률 30% 증가","28":"진화 확률 30% 증가","29":"진화 확률 30% 증가","30":"믹스 - 버섯","31":"믹스 - 나팔꽃","32":"믹스 - 딸기","33":"믹스 - 당근","34":"믹스 - 옥수수","36":"믹스스톤 채굴 (0 ~ 1)","37":"믹스스톤 채굴 (0 ~ 2)","38":"믹스스톤 채굴 (0 ~ 3)"}}')},14:function(e){e.exports=JSON.parse('{"code":{"30":"A","31":"B","32":"C","33":"D","34":"E","35":"S"},"name":{"30":"믹스스톤 A 획득!","31":"믹스스톤 B 획득!","32":"믹스스톤 C 획득!","33":"믹스스톤 D 획득!","34":"믹스스톤 E 획득!","35":"빛 바랜 돌 획득!"}}')},173:function(e){e.exports=JSON.parse('{"mix":[11714,12137,15107,5315,1796,5789,279,10042,1924,5268,7968,8889,12932,2655,1677,1917,3480,8983,12011,10513,10928,12131,10548,14401,8929,8059,9198,3493,16150,6092,4814,3980,1694,13860,6523,15805,16628,10693,14717,8653,6390,13766,7852,13901,10745,4870,604,12010,12976,13393,11382,8902,7520,17647,7373,7259,6899,5650,5087,14032,10993,7015,6099,10604,637,7404,1349,15232,12139,15789,14819,15361,7764,14511,5877,11293,3601,11342,16222,15249,8933,6920,13671,641,16757,7241,7413,7522,2919,8407,11405,10694,6724,12124,14408,8533,7205,13556,10905,14456,2482,11346,2858,7995,1583,6420,1337,2906,3904,5553,13942,9581,9194,4657,15963,17531,14693,16742,7727,11907,16751,14517,12743,13941,16265,14695,12634,6531,9581,8994,5752,12655,2146,2147,10921,13479,3582,70,8078,1534,7634,12357,17780,16503,9246,2712,13211,13953,16243,11968,12961,9282,13520,12273,20375,21943,12531,15538,2440,638,636,3532,3869,17887,20273,21573,19559,18386,15731,8964,19573,16986,18237,13282,4916,15478,18055,10520,15477,7804,7186,1344,1641,3152,3446,18038,4859,22305,25039,1053,15634,411,16504,25383,8434,1225,26494,15508,14627,13447,29134,25193,29620,10164,729,23146,26224,17750,25229,14776,21143,19730,19107,22522,21815,25823,26129,25978,22308,23622,24355,19774,22095,18982,18841,22852,21244,29505,29986,28894,25521,18122,19493,14469,17732,7713,17299,25843,27200,21927,14581,339,10750,21604,7674,25612,8555,16784,22635,15091,7969,30250,10449,6919,22787,12075,6385,20031,5234,8162,28776,29192,27642,27218,26298,21136,20210,19710,18169,14516,23007,18168,31137,25679,22440,3368,9107,30770,26964,23049,23255,15088,26197,11668,20796,19857,20859,17879,31487,32439,13259,36643,24071,85,1886,5230,6060,22443,23048,23345,23346,29430,32319,31417,2215,11228,12114,17779,17781,8564,15628,31426,33170,34215,142,10004,26385,31722,33172,22155,18061,28015,18515,15357,29688,27968,30312,32707,10511,3862,3826,5612,23623,23840,29900,15729,14041,30237,7444,31196,26633,26259,26635,35365,37247,16650,15935,5164,26542,34811,26181,3987,40777,30697,9573,30260,38712,12241,33098,18245,41315,40748,23991,413,760,11288,37993,19364,27718,39353,30378,42055,41724,41705,6167,29629,9405,37430,5379,42346,41652,42362,43047,41651,39267,31645,720,718,6147,497,8042,18810,22632,2526,4929,9485,16105,1809,1837,2230,725,425,9331,11351,12050,10,41485,31771,39620,45057,45304,8928,8186,23378,33837,13068,45279,44753,44487,34229,39694,46159,32809,30100,38064,25938,33224,27802,37794,18582,14777,14457,20215,47942,50967,49315,47942,50967,49315,46982,45573,8393,51820,49462,45751,50278,29132,39423,24023,44955,1835,45454,43044,39993,37297,54707,55228,55100,37095,13609,9620,56375,57535,56077,53011,44390,58252],"hmix":[4447,2869,9293,10399,5888,13705,1579,7660,13071,645,2736,4200,13558,17981,17849,12589,1106,15115,6116,8086,8849,22330,6563,21403,26058,21968,22584,16934,6676,35800,25480,22562,25608,22711,32019,28792,14266,22161,41931,41466,42021,42200,42646,32113,32200,38216,43695,33332,27754,37183,48757,35989],"star":[12744,11317,8474,7462,9275,14157,2584,10929,5803,7440,7416,13837,8957,15481,15264,3479,1919,14751,11137,8111,14667,14588,5090,15096,11285,9577,1860,127,3910,14201,13381,11310,16785,6532,5453,7517,8641,15484,15043,10089,11287,13970,13672,11633,13699,16595,15728,16803,13166,3588,8593,12331,16860,13954,11479,8616,9002,17513,7521,12885,838,8348,1006,13401,1357,12959,3346,12960,635,5243,11147,11298,3495,16209,6486,13351,14820,16275,10915,11788,12232,3377,6726,5398,7251,16564,6453,6310,10883,11565,10017,7544,644,5376,13060,5083,6450,8955,6757,9572,16522,11030,6637,14209,932,17278,15286,6948,10334,12405,10434,10046,15313,1058,8995,14934,13278,9538,14933,12963,10660,15291,13390,9332,17432,17955,5244,17103,787,15456,12066,17530,6254,17800,16968,17586,10582,7470,14484,16445,14907,12366,11379,14108,11184,6608,2908,2913,2152,12999,14996,16712,4483,8828,11373,8696,12745,7566,7481,14406,14646,17038,16297,12668,10425,16861,14023,18068,11737,15980,12076,18067,15385,21751,22349,13379,17709,12206,13022,3056,16474,13796,16816,21572,18155,18006,18007,16208,17681,19800,16459,15763,17211,18302,16255,19521,19352,16676,18291,17583,12663,15358,6100,3149,1642,15208,6293,19028,22518,7166,13387,18983,1947,15629,15630,22637,17393,2899,26495,23699,20712,24364,20706,3498,29622,18233,26728,23456,25083,24665,7231,24337,16444,26992,25761,23907,20994,28443,24214,27571,25811,22091,20469,24215,23910,23047,18890,21969,19186,25718,19221,25522,30565,30255,30252,17321,22616,7713,8342,21681,19330,27140,29264,13046,11372,14583,28041,13160,29263,23621,24958,14100,24295,20717,27961,29060,15899,14099,14394,27774,20271,23638,28102,8194,30253,31217,29836,29744,23256,26577,24081,23145,22232,21713,20684,16623,18840,19629,20713,21492,22403,31733,28699,28247,24645,24188,2857,32010,17756,9131,8084,22788,21321,20105,18199,20214,4523,28479,5499,6209,17646,20851,311,2216,5028,6039,7375,8835,28084,8856,84,6947,7374,18765,19888,22975,83,4157,9290,15989,16192,18766,23089,8534,18031,20036,22444,23200,24511,24513,30892,32124,15611,15352,19253,16493,21682,21660,15496,27297,29005,29408,24443,22561,23791,24116,14337,13067,18092,29493,30465,28442,22909,27783,22496,33939,33949,18641,21160,31416,22490,21496,20303,19145,32361,35721,12845,24100,29010,29477,28903,15825,29234,23192,30379,35429,41314,32385,31415,761,762,19598,23806,25780,20254,39635,40031,36961,19087,23298,42206,41995,41944,41882,41912,12757,25408,27096,14908,32059,20779,31218,31468,33448,41789,35788,28251,2229,2522,41993,41790,31070,726,11350,14743,14879,26432,43362,40837,30620,14645,15651,15506,5082,7830,11460,17311,2905,2749,28098,32880,36142,22398,32239,43070,43071,35576,38941,14396,9226,25777,17107,21704,42361,42340,41057,41210,26780,44486,28663,28355,39461,26632,30956,45183,37315,16424,19250,18920,13368,25459,48043,39342,40965,46532,30698,48044,2734,47276,47320,47189,47259,47593,51224,42851,36875,53174,52009,53598,29867,51922,35313,36826,2446,51284,55218,52634,23171,25507,54521,56281,57225,46761,43231]}')},289:function(e,t,n){n(290),e.exports=n(661)},480:function(e,t,n){},481:function(e,t,n){},482:function(e,t,n){},483:function(e,t,n){},484:function(e,t,n){},485:function(e,t,n){var a={"./caver-core-helpers/src/index.js":12,"./caver-core-method/src/index.js":49,"./caver-core-requestmanager/caver-providers-http/src/index.js":262,"./caver-core-requestmanager/caver-providers-ipc/src/index.js":272,"./caver-core-requestmanager/caver-providers-ws/src/index.js":273,"./caver-core-requestmanager/src/index.js":274,"./caver-core-subscriptions/src/index.js":112,"./caver-core/src/index.js":69,"./caver-klay/caver-klay-abi/src/index.js":169,"./caver-klay/caver-klay-accounts/src/index.js":280,"./caver-klay/caver-klay-contract/src/index.js":114,"./caver-klay/caver-klay-personal/src/index.js":284,"./caver-klay/src/index.js":285,"./caver-middleware/src/index.js":168,"./caver-net/src/index.js":172,"./caver-rtm/src/index.js":93,"./caver-utils/iban/src/index.js":260,"./caver-utils/promievent/src/index.js":258,"./caver-utils/src/index.js":13};function r(e){e=c(e);return n(e)}function c(e){if(n.o(a,e))return a[e];throw(e=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",e}r.keys=function(){return Object.keys(a)},r.resolve=c,(e.exports=r).id=485},495:function(e,t){},497:function(e,t){},507:function(e,t){},509:function(e,t){},535:function(e,t){},541:function(e,t){},543:function(e,t){},561:function(e,t){},585:function(e,t){},587:function(e,t){},614:function(e,t){},644:function(e,t,n){},645:function(e,t,n){},646:function(e,t,n){},647:function(e,t,n){},648:function(e,t,n){},649:function(e,t,n){},650:function(e,t,n){},651:function(e,t,n){},652:function(e,t,n){},653:function(e,t,n){},654:function(e,t,n){},655:function(e,t,n){},656:function(e,t,n){},657:function(e,t,n){},658:function(e,t,n){},659:function(e,t,n){},660:function(e,t,n){},661:function(n,e,t){"use strict";t.r(e);function p(){return P.a.createElement("div",{className:"Loading"},P.a.createElement("img",{src:"images/loading.png",className:"Loading__spinner",alt:"loading"}))}function O(e){return e=e.address,P.a.createElement("header",{className:"Nav"},P.a.createElement("div",{className:"Nav__inner"},P.a.createElement("h1",{className:"Nav__logo"},P.a.createElement(M.b,{to:"/"},P.a.createElement("img",{src:"images/logo.png",alt:"Kepler-452b"}))),e?P.a.createElement("div",{className:"Nav__address"},P.a.createElement("p",null,P.a.createElement("img",{src:"images/klaytn_logo.png"}),e)):P.a.createElement("div",{className:"Nav__loading"},P.a.createElement(p,null))))}function F(){return P.a.createElement("footer",{className:"Footer"},P.a.createElement("div",{className:"Footer__main"},P.a.createElement("div",{className:"Footer__contents"},P.a.createElement("div",{className:"Footer__logo"},P.a.createElement("img",{src:"images/footer_logo.png"})),P.a.createElement("div",{className:"Footer__info"},P.a.createElement("p",null,"CEO. Keplin ",P.a.createElement("br",null),"Addr. 서울특별시 중구 을지로 1가 케플러연구소 (가상) ",P.a.createElement("br",null),"COPYRIGHTⓒ 2022. K452. ALL RIGHT RESERVED.")),P.a.createElement("div",{className:"Footer__icons"},P.a.createElement("li",null,P.a.createElement("a",{href:"https://open.kakao.com/o/gTLz1aTd"},P.a.createElement("i",{className:"fas fa-comment","aria-hidden":"true"}))),P.a.createElement("li",null,P.a.createElement("a",{href:"https://twitter.com/Kepler_NFT"},P.a.createElement("i",{className:"fab fa-twitter","aria-hidden":"true"}))),P.a.createElement("li",null,P.a.createElement("a",{href:"https://www.instagram.com/kepler452b_toon/"},P.a.createElement("i",{className:"fab fa-instagram","aria-hidden":"true"}))),P.a.createElement("li",null,P.a.createElement("a",{href:"https://opensea.io/collection/kepler-452b-official"},P.a.createElement("img",{src:"images/opensea.png"}))),P.a.createElement("li",null,P.a.createElement("a",{href:"https://klu.bs/pfp/0x928267E7dB3d173898553Ff593A78719Bb16929F"},P.a.createElement("i",{className:"fab fa-kickstarter-k","aria-hidden":"true"}))),P.a.createElement("li",null,P.a.createElement("a",{href:"https://kepler-452b.net"},P.a.createElement("img",{src:"images/footer_logo.png"})))))))}var S=t(0),P=t.n(S),e=t(287),e=t.n(e),M=t(19),C=t(4);t(480),t(481),t(482),t(483);function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,c=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(c.push(a.value),!t||c.length!==t);o=!0);}catch(e){l=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw r}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function j(e){var t=(o=L(Object(S.useState)(0),2))[0],n=o[1],a=(o=L(Object(S.useState)(!1),2))[0],r=o[1],c=(Object(S.useEffect)(function(){return window.addEventListener("scroll",c),function(){window.removeEventListener("scroll",c)}}),function(){n(window.pageYOffset),r(100<t)}),o=e.children;return P.a.createElement("div",{className:"Layout"},P.a.createElement("main",null,o),P.a.createElement(F,null),a?P.a.createElement("div",{className:"toUp",onClick:function(e){window.scrollTo({top:0,behavior:"smooth"}),n(0),r(!1)}},P.a.createElement("img",{src:"images/onTop.png"}),P.a.createElement("p",null,"On Top")):"")}t(484);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t,n,a,r,c,o){try{var l=e[c](o),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(a,r)}function H(l){return function(){var e=this,o=arguments;return new Promise(function(t,n){var a=l.apply(e,o);function r(e){D(a,t,n,r,c,"next",e)}function c(e){D(a,t,n,r,c,"throw",e)}r(void 0)})}}function V(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function G(e,t){return(G=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Y(n){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=q(n),t=(e=a?(e=q(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return o(t)}}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q(e){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function X(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}function J(e){var t=e.open,n=e.close,a=e.header,r=e.currentIdx,e=e.gachaItem,c=["box_normal","box_rare","box_unique"];return P.a.createElement("div",{className:t?"openModal modal":"modal"},t?P.a.createElement("section",null,P.a.createElement("header",null,a,P.a.createElement("button",{className:"close",onClick:n},"×")),P.a.createElement("main",null,P.a.createElement("div",{className:"Box_modal"},P.a.createElement("div",{className:"Openbox"},P.a.createElement("video",{muted:"muted",autoPlay:"autoPlay",poster:"../video/".concat(c[r],".png")},P.a.createElement("source",{src:"../video/".concat(c[r],".mov")})),P.a.createElement("p",null,"상자 여는중 ...")),P.a.createElement("div",{className:"Item"},P.a.createElement("div",{className:"Item__img"},P.a.createElement("img",{src:"../images/items/".concat(z.code[e],".png")})),P.a.createElement("div",{className:"Item__content"},P.a.createElement("p",{className:"Item__name"},"'",z.name[e],"'"),P.a.createElement("p",{className:"Item__effect"},z.effect[e])),P.a.createElement("div",{className:"Item__close"},P.a.createElement("button",{onClick:n},"확인")))))):null)}var W=function(e){var t=c;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&G(t,e);var n,r=Y(c);function c(e){var a;if(this instanceof c)return X(o(a=r.call(this,e)),"loadAccountInfo",H(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window,n=t.klaytn)return e.prev=2,e.next=5,n.enable();e.next=14;break;case 5:a.setAccountInfo(n),n.on("accountsChanged",function(){a.setAccountInfo(n)}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log("User denied account access");case 12:e.next=15;break;case 14:console.log("Non-Kaikas browser detected. You should consider trying Kaikas!");case 15:case"end":return e.stop()}},e,null,[[2,9]])}))),X(o(a),"setAccountInfo",H(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window,void 0===(t=t.klaytn))return e.abrupt("return");e.next=3;break;case 3:n=t.selectedAddress,a.setState({account:n,isLoading:!1});case 5:case"end":return e.stop()}},e)}))),X(o(a),"setNetworkInfo",H(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window,void 0===(n=t.klaytn))return e.abrupt("return");e.next=3;break;case 3:a.setState({network:n.networkVersion}),n.on("networkChanged",function(){return a.setNetworkInfo(n.networkVersion)});case 5:case"end":return e.stop()}},e)}))),a.state={account:"",isLoading:!0},a;throw new TypeError("Cannot call a class as a function")}return t=c,(e=[{key:"componentDidMount",value:function(){this.loadAccountInfo(),this.setNetworkInfo()}},{key:"render",value:function(){var e=this.state,t=e.account,e=e.isLoading;return P.a.createElement(j,null,P.a.createElement("div",{className:"KeplerMainPage"},P.a.createElement(O,{address:t,load:e}),P.a.createElement("div",{className:"KeplerMainPage__main"},P.a.createElement("div",{className:"KeplerMainPage__contents"},P.a.createElement("div",{className:"KeplerMainPage__infoBox"},P.a.createElement("img",{src:"images/main_icon.png"}),P.a.createElement("div",{className:"KeplerMainPage__link"},P.a.createElement("div",null,P.a.createElement("li",null,P.a.createElement(M.b,{to:"/evol"},"Today's Evolution")),P.a.createElement("li",null,P.a.createElement(M.b,{to:"/box"},"Random Box"))),P.a.createElement("div",null,P.a.createElement("li",null,P.a.createElement(M.b,{to:"/mining"},"Kepler Mining")),P.a.createElement("li",null,P.a.createElement(M.b,{to:"/shop"},"Goldot Shop"))),P.a.createElement("div",null,P.a.createElement("li",null,P.a.createElement(M.b,{to:"/governance"},"Governanace"))),P.a.createElement("div",{className:"guide_book"},P.a.createElement("p",null,"More Information?"),P.a.createElement("a",{href:"https://docs.kepler-452b.net"},P.a.createElement("p",null,"GUIDE BOOK"),P.a.createElement("img",{src:"images/external.png"})))))))))}}])&&V(t.prototype,e),n&&V(t,n),Object.defineProperty(t,"prototype",{writable:!1}),c}(S.Component),$=t(288),u=new(t.n($).a)(window.klaytn),z=t(115),y=(t(644),t(9));t(645);function Q(e){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z(e){return function(e){if(Array.isArray(e))return ee(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ee(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function te(e,t,n,a,r,c,o){try{var l=e[c](o),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(a,r)}function l(l){return function(){var e=this,o=arguments;return new Promise(function(t,n){var a=l.apply(e,o);function r(e){te(a,t,n,r,c,"next",e)}function c(e){te(a,t,n,r,c,"throw",e)}r(void 0)})}}function ne(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ae(e,t){return(ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function re(n){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=ce(n),t=(e=a?(e=ce(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&("object"===Q(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return c(t)}}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ce(e){return(ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}function oe(e){for(var t=e.open,n=e.close,a=e.header,r=e.currentIdx,c=e.gachaItems,o=e.counter,l=(console.log(c),[35,35,35]),s=0;s<o;s++)l[s]=c;return console.log(l),P.a.createElement("div",{className:t?"openModal modal_Mining":"modal_Mining"},t?P.a.createElement("section",null,P.a.createElement("header",null,a,P.a.createElement("button",{className:"close",onClick:n},"×")),P.a.createElement("main",null,P.a.createElement("div",{className:"Box_modal_Mining"},P.a.createElement("div",{className:"MiningStone"},P.a.createElement("video",{muted:"muted",autoPlay:"autoPlay",poster:"../video/mining.png"},P.a.createElement("source",{src:"../video/".concat(["mining_normal","mining_rare","mining_unique"][r],".mov")})),P.a.createElement("p",null,"믹스스톤 채굴 중 입니다...")),P.a.createElement("div",{className:"Mining"},P.a.createElement("div",{className:"Mining_result"},"채굴 결과"),0==r?P.a.createElement("div",{className:"Mining__img"},P.a.createElement("img",{className:"item3",src:"images/items/".concat(i.code[l[0]],".png")})):null,1==r?P.a.createElement("div",{className:"Mining__img"},P.a.createElement("img",{className:"item2",src:"images/items/".concat(i.code[l[0]],".png")}),P.a.createElement("img",{className:"item4",src:"images/items/".concat(i.code[l[1]],".png")})):null,2==r?P.a.createElement("div",{className:"Mining__img"},P.a.createElement("img",{className:"item1",src:"images/items/".concat(i.code[l[0]],".png")}),P.a.createElement("img",{className:"item3",src:"images/items/".concat(i.code[l[1]],".png")}),P.a.createElement("img",{className:"item5",src:"images/items/".concat(i.code[l[2]],".png")})):null,0==r?P.a.createElement("div",{className:"Mining__content"},P.a.createElement("p",{className:"Mining__name"},i.name[l[0]])):null,1==r?P.a.createElement("div",{className:"Mining__content"},P.a.createElement("p",{className:"Mining__name"},i.name[l[0]]),P.a.createElement("p",{className:"Mining__name"},i.name[l[1]])):null,2==r?P.a.createElement("div",{className:"Mining__content"},P.a.createElement("p",{className:"Mining__name"},i.name[l[0]]),P.a.createElement("p",{className:"Mining__name"},i.name[l[1]]),P.a.createElement("p",{className:"Mining__name"},i.name[l[2]])):null,P.a.createElement("div",{className:"Mining__close"},P.a.createElement("button",{onClick:n},"확인")))))):null,0==r&&t?P.a.createElement("div",{className:"crack"},P.a.createElement("div",{className:"crack3"},P.a.createElement("img",{src:"../images/items/".concat(i.code[l[0]],".png")}),i.name[l[0]])):null,1==r&&t?P.a.createElement("div",{className:"crack"},P.a.createElement("div",{className:"crack3"},P.a.createElement("img",{src:"../images/items/".concat(i.code[l[0]],".png")}),i.name[l[0]]),P.a.createElement("div",{className:"crack2"},P.a.createElement("img",{src:"../images/items/".concat(i.code[l[1]],".png")}),i.name[l[1]])):null,2==r&&t?P.a.createElement("div",{className:"crack"},P.a.createElement("div",{className:"crack3"},P.a.createElement("img",{src:"../images/items/".concat(i.code[l[0]],".png")}),i.name[l[0]]),P.a.createElement("div",{className:"crack2"},P.a.createElement("img",{src:"../images/items/".concat(i.code[l[1]],".png")}),i.name[l[1]]),P.a.createElement("div",{className:"crack1"},P.a.createElement("img",{src:"../images/items/".concat(i.code[l[2]],".png")}),i.name[l[2]])):null)}var le="0xa72336cBb31af6e85AB1a816753aC9Ec38Cd95B5",se="0x31756CAa3363516C01843F96f6AA7d9c922163b3",ie=function(e){var t=r;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ae(t,e);var n,a=re(r);function r(e){var f;if(this instanceof r)return s(c(f=a.call(this,e)),"loadAccountInfo",l(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window,n=t.klaytn)return e.prev=2,e.next=5,n.enable();e.next=15;break;case 5:f.setAccountInfo(n),n.on("accountsChanged",function(){f.setAccountInfo(n)}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0),console.log("User denied account access");case 13:e.next=16;break;case 15:console.log("Non-Kaikas browser detected. You should consider trying Kaikas!");case 16:case"end":return e.stop()}},e,null,[[2,9]])}))),s(c(f),"setAccountInfo",l(regeneratorRuntime.mark(function e(){var t,n,a,r,c,o,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window,void 0===(t=t.klaytn))return e.abrupt("return");e.next=3;break;case 3:return n=new u.klay.Contract([{constant:!0,inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"id",type:"uint256"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}],se),a=t.selectedAddress,e.next=7,u.klay.getBalance(a);case 7:return r=e.sent,e.next=10,n.methods.balanceOf(a,39).call();case 10:return c=e.sent,e.next=13,n.methods.balanceOf(a,40).call();case 13:return o=e.sent,e.next=16,n.methods.balanceOf(a,41).call();case 16:l=e.sent,f.setState({account:a,balance:u.utils.fromPeb(r,"KLAY"),key1:c,key2:o,key3:l,isLoading:!1});case 18:case"end":return e.stop()}},e)}))),s(c(f),"setBalance",l(regeneratorRuntime.mark(function e(){var t,n,a,r,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=f.state.account,n=new u.klay.Contract([{constant:!0,inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"id",type:"uint256"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}],se),e.next=4,n.methods.balanceOf(t,39).call();case 4:return a=e.sent,e.next=7,n.methods.balanceOf(t,40).call();case 7:return r=e.sent,e.next=10,n.methods.balanceOf(t,41).call();case 10:c=e.sent,f.setState({key1:Z(a),key2:Z(r),key3:Z(c)});case 12:case"end":return e.stop()}},e)}))),s(c(f),"setNetworkInfo",l(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window,void 0===(n=t.klaytn))return e.abrupt("return");e.next=3;break;case 3:f.setState({network:n.networkVersion}),n.on("networkChanged",function(){return f.setNetworkInfo(n.networkVersion)});case 5:case"end":return e.stop()}},e)}))),s(c(f),"moveSlide",function(e){window.innerWidth<=540?f.ref.current.style.left=370*-e+"px":window.innerWidth<=640?f.ref.current.style.left=450*-e+"px":f.ref.current.style.left=600*-e+"px",f.setState({currentIdx:e})}),s(c(f),"prevSlide",function(){var e=f.state.currentIdx;0!==e&&f.moveSlide(e-1)}),s(c(f),"nextSlide",function(){var e=f.state.currentIdx;2!==e&&f.moveSlide(e+1)}),s(c(f),"gachaId",l(regeneratorRuntime.mark(function e(){var t,n,a,r,c,o,l,s,i,u,m,p,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return p=f.state.currentIdx,t=100*Math.random(),n=Math.floor(5*Math.random()),a=5*y.large_potion[p],r=5*y.large_mix_potion[p]+a,c=5*y.medium_potion[p]+r,o=5*y.medium_mix_potion[p]+c,l=5*y.small_potion[p]+o,s=5*y.small_mix_potion[p]+l,i=5*y.stone[p]+s,u=y.low_pickaxe[p]+i,m=y.intermediate_pickaxe[p]+u,p=y.advanced_pickaxe[p]+m,d=0,t<a?d=n:t<r?d=n+5:t<c?d=n+10:t<o?d=n+15:t<l?d=n+20:t<s?d=n+25:t<i?d=n+30:t<u?d=36:t<m?d=37:t<p?d=38:console.log("error"),e.abrupt("return",d);case 16:case"end":return e.stop()}},e)}))),s(c(f),"sendTxItem",l(regeneratorRuntime.mark(function e(){var t,n,a,r,c,o,l,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=f.state,t=o.account,n=o.balance,a=o.currentIdx,r=o.key1,c=o.key2,o=o.key3,n<2)return alert("2 Klay 이상 소유해야 합니다 :)"),e.abrupt("return");e.next=4;break;case 4:if(0==a&&0==r)return alert("일반 열쇠가 없습니다."),e.abrupt("return");e.next=9;break;case 9:if(1==a&&0==c)return alert("레어 열쇠가 없습니다."),e.abrupt("return");e.next=14;break;case 14:if(2==a&&0==o)return alert("유니크 열쇠가 없습니다."),e.abrupt("return");e.next=17;break;case 17:return l=new u.klay.Contract([{constant:!1,inputs:[{internalType:"address",name:"_account",type:"address"},{internalType:"uint256",name:"_id",type:"uint256"},{internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"useKey",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}],le),e.next=20,f.gachaId();case 20:return s=e.sent,e.next=23,l.methods.useKey(t,a,s).send({from:t,gas:25e5}).on("transactionHash",function(e){console.log("txHash",e)}).on("receipt",function(e){console.log("receipt",e),f.setBalance(),f.setState({gachaItem:s})}).on("error",function(e){console.log("error",e),alert("상자깡이 취소되었습니다.")});case 23:case"end":return e.stop()}},e)}))),s(c(f),"sendTxKey",l(regeneratorRuntime.mark(function e(){var t,n,a,r,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.state,n=t.account,a=t.currentIdx,t.balance<2)return alert("2 Klay 이상 소유해야 합니다 :)"),e.abrupt("return");e.next=4;break;case 4:return r=new u.klay.Contract([{constant:!1,inputs:[{internalType:"uint256",name:"_id",type:"uint256"}],name:"mintItem",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"address",name:"",type:"address"}],name:"payers",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"address",name:"",type:"address"}],name:"gacha",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}],le),e.next=7,r.methods.payers(a,n).call();case 7:if(e.sent){e.next=11;break}return e.next=11,f.sendTxItem();case 11:return e.next=13,r.methods.gacha(a,n).call();case 13:return c=e.sent,console.log(c),e.next=17,new Promise(function(t){setTimeout(l(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.methods.mintItem(a).send({from:n,gas:25e5}).on("transactionHash",function(e){console.log("txHash",e),f.setState({txHash:e})}).on("receipt",function(e){console.log("receipt",e),f.setState({receipt:JSON.stringify(e),modalOpen:!0,gachaItem:c})}).on("error",function(e){console.log("error",e),alert("상자깡이 취소되었습니다."),f.setState({error:e.message})});case 2:t();case 3:case"end":return e.stop()}},e)})),200)});case 17:case"end":return e.stop()}},e)}))),s(c(f),"closeModal",function(){f.setState({modalOpen:!1})}),f.state={account:"",balance:0,key1:0,key2:0,key3:0,isLoading:!0,currentIdx:0,gachaItem:0,modalOpen:!1,txHash:"",receipt:!1,error:!1},f.ref=P.a.createRef(),f;throw new TypeError("Cannot call a class as a function")}return t=r,(e=[{key:"componentDidMount",value:function(){this.setNetworkInfo(),this.loadAccountInfo()}},{key:"render",value:function(){var e=this.state,t=e.account,n=e.key1,a=e.key2,r=e.key3,c=e.isLoading,o=e.currentIdx,l=e.gachaItem,e=e.modalOpen;return P.a.createElement(j,null,P.a.createElement("div",{className:"KeplerBoxPage"},P.a.createElement(O,{address:t,load:c}),P.a.createElement("div",{className:"KeplerBoxPage__main"},P.a.createElement("div",{className:"KeplerBoxPage__contents"},P.a.createElement("div",{className:"KeplerBoxPage__boxs"},P.a.createElement("div",{id:"slideShow_box"},P.a.createElement("ul",{className:"slides",ref:this.ref},P.a.createElement("li",null,P.a.createElement("img",{src:"images/box/box_normal.png"})),P.a.createElement("li",null,P.a.createElement("img",{src:"images/box/box_rare.png"})),P.a.createElement("li",null,P.a.createElement("img",{src:"images/box/box_unique.png"}))),P.a.createElement(J,{open:e,currentIdx:o,gachaItem:l,close:this.closeModal}),P.a.createElement("span",{className:"prev"},P.a.createElement("img",{src:"images/left.png",onClick:this.prevSlide})),P.a.createElement("span",{className:"next"},P.a.createElement("img",{src:"images/right.png",onClick:this.nextSlide})),P.a.createElement("p",null,["Normal Box","Rare Box","Unique Box"][o]))),P.a.createElement("div",{className:"KeplerBoxPage__mint"},P.a.createElement("div",{className:"mint_item"},P.a.createElement("div",{className:"mint_btn",onClick:this.sendTxKey},"OPEN BOX"))),P.a.createElement("div",{className:"KeplerBoxPage__payable"},P.a.createElement("div",{className:"key_balance"},P.a.createElement("label",null,"Normal Key"),P.a.createElement("p",null,P.a.createElement("img",{src:"images/items/K1.png"}),n)),P.a.createElement("div",{className:"key_balance"},P.a.createElement("label",null,"Rare Key"),P.a.createElement("p",null,P.a.createElement("img",{src:"images/items/K2.png"}),a)),P.a.createElement("div",{className:"key_balance"},P.a.createElement("label",null,"Unique Key"),P.a.createElement("p",null,P.a.createElement("img",{src:"images/items/K3.png"}),r))),P.a.createElement("div",{className:"check"},P.a.createElement("p",null,"트랜잭션은 2번 발생합니다 (예상 수수료 예측 때문)"),P.a.createElement("p",null,"2 Klay 이상 소유해야 트랜잭션이 에러를 발생시키지 않습니다 (최대 가스비 인상 때문)")),P.a.createElement("div",{className:"KeplerBoxPage__table"},P.a.createElement("div",{className:"table_title"},"Percentage Table"),P.a.createElement("div",{className:"table_contents"},P.a.createElement("div",null,P.a.createElement("div",{className:"content_potion"},P.a.createElement("label",null,"기존 포션"),P.a.createElement("li",null,P.a.createElement("p",null,"대형 5종류 각 ",y.large_potion[o],"%"),P.a.createElement("p",null,"총 ",5*y.large_potion[o],"%")),P.a.createElement("li",null,P.a.createElement("p",null,"중형 5종류 각 ",y.medium_potion[o],"%"),P.a.createElement("p",null,"총 ",5*y.medium_potion[o],"%")),P.a.createElement("li",null,P.a.createElement("p",null,"소형 5종류 각 ",y.small_potion[o],"%"),P.a.createElement("p",null,"총 ",5*y.small_potion[o],"%"))),P.a.createElement("div",{className:"content_potion_mix"},P.a.createElement("label",null,"믹스종 포션"),P.a.createElement("li",null,P.a.createElement("p",null,"대형 5종류 각 ",y.large_mix_potion[o],"%"),P.a.createElement("p",null,"총 ",5*y.large_mix_potion[o],"%")),P.a.createElement("li",null,P.a.createElement("p",null,"중형 5종류 각 ",y.medium_mix_potion[o],"%"),P.a.createElement("p",null,"총 ",5*y.medium_mix_potion[o],"%")),P.a.createElement("li",null,P.a.createElement("p",null,"소형 5종류 각 ",y.small_mix_potion[o],"%"),P.a.createElement("p",null,"총 ",5*y.small_mix_potion[o],"%")))),P.a.createElement("div",null,P.a.createElement("div",{className:"content_pick"},P.a.createElement("label",null,"곡괭이"),P.a.createElement("li",null,P.a.createElement("p",null,"상급 곡괭이"),P.a.createElement("p",null,"총 ",y.advanced_pickaxe[o],"%")),P.a.createElement("li",null,P.a.createElement("p",null,"중급 곡괭이"),P.a.createElement("p",null,"총 ",y.intermediate_pickaxe[o],"%")),P.a.createElement("li",null,P.a.createElement("p",null,"하급 곡괭이"),P.a.createElement("p",null,"총 ",y.low_pickaxe[o],"%"))),P.a.createElement("div",{className:"content_stone"},P.a.createElement("label",null,"믹스 스톤"),P.a.createElement("li",null,P.a.createElement("p",null,"믹스 스톤 각 ",y.stone[o],"%"),P.a.createElement("p",null,"총 ",5*y.stone[o],"%"))))))))))}}])&&ne(t.prototype,e),n&&ne(t,n),Object.defineProperty(t,"prototype",{writable:!1}),r}(S.Component),i=t(14);t(646),t(647);function ue(e){return(ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function me(e,t,n,a,r,c,o){try{var l=e[c](o),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(a,r)}function m(l){return function(){var e=this,o=arguments;return new Promise(function(t,n){var a=l.apply(e,o);function r(e){me(a,t,n,r,c,"next",e)}function c(e){me(a,t,n,r,c,"throw",e)}r(void 0)})}}function pe(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function de(e,t){return(de=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fe(n){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=ye(n),t=(e=a?(e=ye(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&("object"===ue(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return d(t)}}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ye(e){return(ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}function ge(e){var n=e.evol,e=e.load;return P.a.createElement("div",{className:"TotalEvolTable"},P.a.createElement("h2",{className:"TotalEvolTable__title"},"Today's Evolution"),e?P.a.createElement("h2",{className:"TotalEvolTable_loading"},"전체 진화 번호를 로딩중입니다 :)"):P.a.createElement("div",null,P.a.createElement("h3",{className:"TotalEvolTable__date"},n.date),P.a.createElement("div",{className:"TotalEvolTable__infoBox"},P.a.createElement("div",{className:"TotalEvolTable__token"},P.a.createElement("h2",null,"전체 진화 번호 (",n.token.length,")"),P.a.createElement("div",null,0!=n.token.length?n.token.map(function(e,t){return P.a.createElement("a",{key:t,href:"https://klu.bs/pfp/0x928267e7db3d173898553ff593a78719bb16929f/"+n.token[t]},P.a.createElement("h3",null,n.token[t]))}):P.a.createElement("h2",null,"비어 있습니다"))))))}function be(e){function t(e){e.target.style="display: none"}var n=e.data,e=e.tokenURI;return P.a.createElement("div",{className:"NFTBox"},n?P.a.createElement("a",{className:"NFTBox__link",target:"_blank",href:"https://klu.bs/pfp/0x928267E7dB3d173898553Ff593A78719Bb16929F/"+n},P.a.createElement("p",{className:"NFTBox__name"},n),P.a.createElement("div",{className:"NFTBox__img"},P.a.createElement("img",{src:e,onError:t}),P.a.createElement("video",{src:e,autoPlay:!0,loop:!0,onError:t}))):P.a.createElement(P.a.Fragment,null,P.a.createElement("div",{className:"NFTBox__img"},P.a.createElement("img",{src:e,onError:t}),P.a.createElement("video",{src:e,autoPlay:!0,loop:!0,onError:t}))))}function g(e){var t=e.name,n=e.data,a=e.tokenURI,e=e.info,r=n,c=a;return P.a.createElement("div",{className:"EvolTable"},P.a.createElement("div",{className:"EvolTable__infoBox"},P.a.createElement("div",{className:"EvolTable__token"},P.a.createElement("h2",null,t," (",r.length,")")),P.a.createElement("ul",null,0!=r.length?r.map(function(e,t){return P.a.createElement("li",{key:t},P.a.createElement(be,{data:r[t],tokenURI:c[t]}))}):P.a.createElement("h2",null,e))))}var ve="0x9da24c77C9C2988338ab38Ae14376b6AD868601C",Ee="0x31756CAa3363516C01843F96f6AA7d9c922163b3",he=function(e){var t=r;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&de(t,e);var n,a=fe(r);function r(e){var s;if(this instanceof r)return f(d(s=a.call(this,e)),"loadAccountInfo",m(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window,n=t.klaytn)return e.prev=2,e.next=5,n.enable();e.next=15;break;case 5:s.setAccountInfo(n),s.setMintPrice(0),n.on("accountsChanged",function(){s.setAccountInfo(n),s.setMintPrice(0)}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log("User denied account access");case 13:e.next=16;break;case 15:console.log("Non-Kaikas browser detected. You should consider trying Kaikas!");case 16:case"end":return e.stop()}},e,null,[[2,10]])}))),f(d(s),"setAccountInfo",m(regeneratorRuntime.mark(function e(){var t,n,a,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window,void 0===(t=t.klaytn))return e.abrupt("return");e.next=3;break;case 3:return n=t.selectedAddress,e.next=6,u.klay.getBalance(n);case 6:return a=e.sent,r=new u.klay.Contract([{constant:!0,inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"id",type:"uint256"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}],Ee),e.next=10,r.methods.balanceOf(n,36).call();case 10:r=e.sent,s.setState({account:n,balance:u.utils.fromPeb(a,"KLAY"),pickaxe:r,isLoading:!1});case 12:case"end":return e.stop()}},e)}))),f(d(s),"setNetworkInfo",m(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window,void 0===(n=t.klaytn))return e.abrupt("return");e.next=3;break;case 3:s.setState({network:n.networkVersion}),n.on("networkChanged",function(){return s.setNetworkInfo(n.networkVersion)});case 5:case"end":return e.stop()}},e)}))),f(d(s),"moveSlide",function(e){window.innerWidth<=540?s.ref.current.style.left=370*-e+"px":window.innerWidth<=640?s.ref.current.style.left=450*-e+"px":s.ref.current.style.left=600*-e+"px",s.setState({currentIdx:e})}),f(d(s),"prevSlide",function(){var e=s.state.currentIdx;0!==e&&(s.moveSlide(e-1),s.setBalance(e-1))}),f(d(s),"nextSlide",function(){var e=s.state.currentIdx;2!==e&&(s.moveSlide(e+1),s.setBalance(e+1))}),f(d(s),"setBalance",function(){var t=m(regeneratorRuntime.mark(function e(t){var n,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.state.account,a=new u.klay.Contract([{constant:!0,inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"id",type:"uint256"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}],Ee),e.next=4,a.methods.balanceOf(n,t+36).call();case 4:a=e.sent,s.setState({pickaxe:a});case 6:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()),f(d(s),"gachaId",m(regeneratorRuntime.mark(function e(){var t,n,a,r,c,o,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.state.currentIdx,n=35,a=0,r=1,c=100*Math.random(),o=100*Math.random(),l=Math.floor(5*Math.random())+30,2==t?(c<40&&(r=0),o<.8?(n=l,a=3):o<10.4?(n=l,a=2):o<48.8&&(n=l,a=1)):1==t?(c<55&&(r=0),o<4?(n=l,a=2):o<32&&(n=l,a=1)):0==t?(c<70&&(r=0),o<20&&(n=l,a=1)):console.log("error"),s.setState({getBack:r}),e.abrupt("return",[n,a]);case 10:case"end":return e.stop()}},e)}))),f(d(s),"sendTxUse",m(regeneratorRuntime.mark(function e(){var t,n,a,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.state,t=n.account,n=n.currentIdx,e.next=3,s.gachaId();case 3:return a=e.sent,r=new u.klay.Contract([{constant:!1,inputs:[{internalType:"address",name:"_account",type:"address"},{internalType:"uint256",name:"_id",type:"uint256"},{internalType:"uint256",name:"_tokenId",type:"uint256"},{internalType:"uint256",name:"_count",type:"uint256"}],name:"usePickaxe",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"address",name:"",type:"address"}],name:"gachas",outputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"counter",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}],ve),e.next=7,r.methods.usePickaxe(t,n,a[0],a[1]).send({from:t,gas:25e5}).on("transactionHash",function(e){console.log("txHash",e)}).on("receipt",function(e){console.log("receipt",e)}).on("error",function(e){console.log("error",e),alert("믹스스톤 채굴이 취소되었습니다.")});case 7:case"end":return e.stop()}},e)}))),f(d(s),"sendTxItem",m(regeneratorRuntime.mark(function e(){var t,n,a,r,c,o,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=s.state,n=t.account,a=t.currentIdx,r=t.balance,0==t.pickaxe)return alert("곡괭이가 없습니다."),e.abrupt("return");e.next=4;break;case 4:if(r<2)return alert("2 Klay 이상 소유해야 합니다 :)"),e.abrupt("return");e.next=7;break;case 7:return c=new u.klay.Contract([{constant:!0,inputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"address",name:"",type:"address"}],name:"gachas",outputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"counter",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"address",name:"",type:"address"}],name:"payers",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"_id",type:"uint256"},{internalType:"uint256",name:"_getBackCount",type:"uint256"}],name:"mining",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}],ve),e.next=10,c.methods.payers(a,n).call();case 10:if(e.sent){e.next=14;break}return e.next=14,s.sendTxUse();case 14:return e.next=16,c.methods.gachas(a,n).call();case 16:return o=e.sent,l=s.state.getBack,e.next=20,new Promise(function(t){setTimeout(m(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.methods.mining(a,l).send({from:n,gas:25e5}).on("transactionHash",function(e){console.log("txHash",e),s.setState({txHash:e})}).on("receipt",function(e){console.log("receipt",e),s.setBalance(a),s.setState({receipt:JSON.stringify(e),modalOpen:!0,gachaItems:o[0],counter:o[1]})}).on("error",function(e){console.log("error",e),alert("믹스스톤 채굴이 취소되었습니다."),s.setState({error:e.message})});case 2:t();case 3:case"end":return e.stop()}},e)})),200)});case 20:case"end":return e.stop()}},e)}))),f(d(s),"closeModal",function(){1==s.state.getBack?alert("곡괭이는 무사합니다!"):alert("믹스스톤을 캐던 중 곡괭이가 부서졌습니다.."),s.setState({modalOpen:!1})}),s.state={account:"",balance:0,pickaxe:0,isLoading:!0,currentIdx:0,gachaItems:35,counter:0,getBack:0,modalOpen:!1,txHash:"",receipt:!1,error:!1},s.ref=P.a.createRef(),s;throw new TypeError("Cannot call a class as a function")}return t=r,(e=[{key:"componentDidMount",value:function(){this.loadAccountInfo(),this.setNetworkInfo()}},{key:"render",value:function(){var e=this.state,t=e.account,n=e.pickaxe,a=e.isLoading,r=e.currentIdx,c=e.gachaItems,o=e.counter,e=e.modalOpen;return P.a.createElement(j,null,P.a.createElement("div",{className:"KeplerMiningPage"},P.a.createElement(O,{address:t,load:a}),P.a.createElement("div",{className:"KeplerMiningPage__main"},P.a.createElement("div",{className:"KeplerMiningPage__title"},P.a.createElement("img",{src:"images/mining-title.png"})),P.a.createElement("div",{className:"KeplerMiningPage__contents"},P.a.createElement("div",{className:"KeplerMiningPage__mining"},P.a.createElement("img",{src:"video/mining.png"}),P.a.createElement("p",null,"트랜잭션은 2번 발생합니다 (예상 수수료 예측 때문)"),P.a.createElement("p",null,"2 Klay 이상 소유해야 트랜잭션이 에러를 발생시키지 않습니다 (최대 가스비 인상 때문)")),P.a.createElement("div",{className:"KeplerMiningPage__mint"},P.a.createElement("div",{className:"mint_btn",onClick:this.sendTxItem},"START"),P.a.createElement("p",null,'아래에 가지고 있는 곡괭이를 선택 후 "START" 버튼을 눌러 믹스스톤을 채굴해주세요')),P.a.createElement("div",{className:"KeplerMiningPage__tools"},P.a.createElement("div",{id:"slideShow"},P.a.createElement("ul",{className:"slides",ref:this.ref},P.a.createElement("li",null,P.a.createElement("img",{src:"images/items/1PK.png"})),P.a.createElement("li",null,P.a.createElement("img",{src:"images/items/2PK.png"})),P.a.createElement("li",null,P.a.createElement("img",{src:"images/items/3PK.png"}))),P.a.createElement(oe,{open:e,currentIdx:r,gachaItems:c,counter:o,close:this.closeModal}),P.a.createElement("span",{className:"prev"},P.a.createElement("img",{src:"images/mining-left.png",onClick:this.prevSlide})),P.a.createElement("span",{className:"next"},P.a.createElement("img",{src:"images/mining-right.png",onClick:this.nextSlide}))),P.a.createElement("div",{className:"KeplerMiningPage__name"},P.a.createElement("p",null,["하급 곡괭이","중급 곡괭이","상급 곡괭이"][r])),P.a.createElement("div",{className:"KeplerMiningPage__limit"},P.a.createElement("p",null,"남은 수량 : ",n," 개")))))))}}])&&pe(t.prototype,e),n&&pe(t,n),Object.defineProperty(t,"prototype",{writable:!1}),r}(S.Component),A=new u.klay.Contract([{constant:!1,inputs:[{internalType:"address",name:"account",type:"address"}],name:"addMinter",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"account",type:"address"}],name:"addPauser",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{constant:!1,inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"burn",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256[]",name:"_ids",type:"uint256[]"}],name:"burnBatch",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"burnSingle",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256[]",name:"_ids",type:"uint256[]"},{internalType:"string[]",name:"_urls",type:"string[]"}],name:"changeBatch",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"tokenURI",type:"string"}],name:"changeSingle",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"_to",type:"address"},{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Klaytn17Burn",type:"event"},{constant:!1,inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address[]",name:"_tos",type:"address[]"},{internalType:"uint256[]",name:"_ids",type:"uint256[]"},{internalType:"string[]",name:"_urls",type:"string[]"}],name:"mintBatch",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"}],name:"MinterAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"}],name:"MinterRemoved",type:"event"},{constant:!1,inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"tokenURI",type:"string"}],name:"mintWithTokenURI",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{constant:!1,inputs:[],name:"pause",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"}],name:"PauserAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"}],name:"PauserRemoved",type:"event"},{constant:!1,inputs:[],name:"renounceMinter",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"renounceOwnership",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"renouncePauser",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{constant:!1,inputs:[{internalType:"address[]",name:"_tos",type:"address[]"},{internalType:"uint256[]",name:"_ids",type:"uint256[]"}],name:"transferBatch",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"unpause",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{constant:!0,inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"account",type:"address"}],name:"isMinter",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"isOwner",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"account",type:"address"}],name:"isPauser",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}],"0x928267E7dB3d173898553Ff593A78719Bb16929F"),$=t(43),k=t.n($),xe=t(173);t(648),t(649),t(650),t(651);function ke(e){return(ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function we(e,t,n,a,r,c,o){try{var l=e[c](o),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(a,r)}function w(l){return function(){var e=this,o=arguments;return new Promise(function(t,n){var a=l.apply(e,o);function r(e){we(a,t,n,r,c,"next",e)}function c(e){we(a,t,n,r,c,"throw",e)}r(void 0)})}}function _e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Ne(e,t){return(Ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Te(n){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=Ie(n),t=(e=a?(e=Ie(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&("object"===ke(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return b(t)}}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ie(e){return(Ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}function Re(e){var t=e.open,n=e.tx,a=e.close,r=e.header,c=e.num1,o=e.num2,l=e.num3,s=e.urls,i=[c,o,l];return P.a.createElement("div",{className:t?"openModal modalnft":"modalnft"},t?P.a.createElement("section",null,P.a.createElement("header",null,r,P.a.createElement("button",{className:"close",onClick:a},"×")),P.a.createElement("main",null,P.a.createElement("div",{className:"nft_modal"},P.a.createElement("div",{className:"nft_title"},"소각되는 NFT"),P.a.createElement("div",{className:"nft_contents"},s?s.map(function(e,t){return P.a.createElement("div",{className:"nft_img",key:e},P.a.createElement("img",{src:s[t]}),P.a.createElement("div",{className:"nft_num"},"#".concat(i[t])))}):P.a.createElement("div",{className:"load"},P.a.createElement(p,null))),P.a.createElement("div",{className:"nft_check"},P.a.createElement("p",null,"이 NFT가 맞나요?")),P.a.createElement("div",{className:"checked",onClick:n},"교환 확정")))):null)}var Oe=function(e){var t=r;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ne(t,e);var n,a=Te(r);function r(e){var o;if(this instanceof r)return v(b(o=a.call(this,e)),"loadAccountInfo",w(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window,n=t.klaytn)return e.prev=2,e.next=5,n.enable();e.next=15;break;case 5:o.setAccountInfo(n),o.setOwner(n),n.on("accountsChanged",function(){o.setAccountInfo(n),o.setOwner(n)}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log("User denied account access");case 13:e.next=16;break;case 15:console.log("Non-Kaikas browser detected. You should consider trying Kaikas!");case 16:case"end":return e.stop()}},e,null,[[2,10]])}))),v(b(o),"setTotal",w(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=4,k()("https://api.kepler-452b.net/evol/2022-06-13-daily").then(function(e){return e.json()});case 4:t=e.sent,o.setState({evol:t,totalLoading:!1});case 6:case"end":return e.stop()}},e)}))),v(b(o),"setOwner",w(regeneratorRuntime.mark(function e(){var t,p,d,n,a,f,y,g,b,v,E,h,x,r,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window,void 0===(t=t.klaytn))return e.abrupt("return");e.next=3;break;case 3:if(1==o.state.totalLoading)return e.next=7,o.setTotal();e.next=7;break;case 7:return p=o.state.evol,d=t.selectedAddress,e.next=11,A.methods.balanceOf(d).call();case 11:for(n=e.sent,a=[],f=[],y=[],g=[],b=[],v=[],E=[],h=[],x=[],r=0;r<n;r++)c=function(){var t=w(regeneratorRuntime.mark(function e(t){var n,a,r,c,o,l,s,i,u,m;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.methods.tokenOfOwnerByIndex(d,t).call();case 2:if(n=e.sent,p.token.includes(parseInt(n)))return e.next=6,A.methods.tokenURI(n).call();e.next=15;break;case 6:return a=e.sent,e.next=9,k()(a);case 9:return a=e.sent,e.next=12,a.json();case 12:r=e.sent,f.push(n),v.push(r.image);case 15:if(p.spawning.includes(parseInt(n)))return e.next=18,A.methods.tokenURI(n).call();e.next=27;break;case 18:return r=e.sent,e.next=21,k()(r);case 21:return c=e.sent,e.next=24,c.json();case 24:c=e.sent,y.push(n),E.push(c.image);case 27:if(xe.mix.includes(parseInt(n)))return e.next=30,A.methods.tokenURI(n).call();e.next=51;break;case 30:return o=e.sent,e.next=33,k()(o);case 33:return o=e.sent,e.next=36,o.json();case 36:if(l=e.sent,g.push(n),h.push(l.image),p.token.includes(parseInt(n)))return e.next=42,A.methods.tokenURI(n).call();e.next=51;break;case 42:return l=e.sent,e.next=45,k()(l);case 45:return s=e.sent,e.next=48,s.json();case 48:s=e.sent,b.push(n),x.push(s.image);case 51:if(xe.hmix.includes(parseInt(n)))return e.next=54,A.methods.tokenURI(n).call();e.next=75;break;case 54:return i=e.sent,e.next=57,k()(i);case 57:return i=e.sent,e.next=60,i.json();case 60:if(u=e.sent,g.push(n),h.push(u.image),p.token.includes(parseInt(n)))return e.next=66,A.methods.tokenURI(n).call();e.next=75;break;case 66:return u=e.sent,e.next=69,k()(u);case 69:return m=e.sent,e.next=72,m.json();case 72:m=e.sent,b.push(n),x.push(m.image);case 75:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),a.push(c(r));return e.next=24,Promise.all(a);case 24:o.setState({data:[].concat(f),spawning:[].concat(y),mixOwn:[].concat(g),mix:[].concat(b),evolURIs:[].concat(v),spawnURIs:[].concat(E),mixURIs:[].concat(h),mixEvolURIs:[].concat(x),isLoading:!1});case 25:case"end":return e.stop()}},e)}))),v(b(o),"setAccountInfo",w(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window,void 0===(t=t.klaytn))return e.abrupt("return");e.next=3;break;case 3:n=t.selectedAddress,o.setState({account:n});case 5:case"end":return e.stop()}},e)}))),v(b(o),"setNetworkInfo",w(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window,void 0===(n=t.klaytn))return e.abrupt("return");e.next=3;break;case 3:o.setState({network:n.networkVersion}),n.on("networkChanged",function(){return o.setNetworkInfo(n.networkVersion)});case 5:case"end":return e.stop()}},e)}))),o.state={account:"",network:null,data:[],mixOwn:[],mix:[],spawning:[],totalLoading:!0,isLoading:!0,evolURIs:[],spawnURIs:[],mixURIs:[],mixEvolURIs:[],evol:[]},o;throw new TypeError("Cannot call a class as a function")}return t=r,(e=[{key:"componentDidMount",value:function(){this.setTotal(),this.loadAccountInfo(),this.setNetworkInfo()}},{key:"render",value:function(){var e=this.state,t=e.account,n=e.data,a=e.spawning,r=e.mixOwn,c=e.mix,o=e.evolURIs,l=e.spawnURIs,s=e.mixURIs,i=e.mixEvolURIs,u=e.evol,m=e.totalLoading,e=e.isLoading;return P.a.createElement(j,null,P.a.createElement("div",{className:"KeplerEvolPage"},P.a.createElement(O,{address:t,load:e}),P.a.createElement("div",{className:"KeplerEvolPage__main"},P.a.createElement("div",{className:"KeplerEvolPage__contents"},P.a.createElement(ge,{evol:u,load:m}),e?P.a.createElement("div",{className:"KeplerEvolPage_loading"},P.a.createElement(p,null),P.a.createElement("p",null,"내 진화 번호를 불러오는 중입니다...")):P.a.createElement("div",null,P.a.createElement(g,{name:"내 진화 번호",data:n,tokenURI:o,info:"금일 진화한 NFT가 없습니다..."}),P.a.createElement(g,{name:"내 산란된 번호",data:a,tokenURI:l,info:"금일 산란된 NFT가 없습니다..."}),P.a.createElement(g,{name:"내 믹스 번호",data:r,tokenURI:s,info:"믹스종 NFT가 없습니다..."}),P.a.createElement(g,{name:"내 믹스 진화 번호",data:c,tokenURI:i,info:"금일 진화한 NFT가 없습니다..."}))))))}}])&&_e(t.prototype,e),n&&_e(t,n),Object.defineProperty(t,"prototype",{writable:!1}),r}(S.Component);t(652),t(653);function Se(e){return(Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pe(e){return function(e){if(Array.isArray(e))return Me(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Me(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Me(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Ce(e,t,n,a,r,c,o){try{var l=e[c](o),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(a,r)}function E(l){return function(){var e=this,o=arguments;return new Promise(function(t,n){var a=l.apply(e,o);function r(e){Ce(a,t,n,r,c,"next",e)}function c(e){Ce(a,t,n,r,c,"throw",e)}r(void 0)})}}function je(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Ae(e,t){return(Ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ke(n){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=Be(n),t=(e=a?(e=Be(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&("object"===Se(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return h(t)}}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Be(e){return(Be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}var Ue="0x31756CAa3363516C01843F96f6AA7d9c922163b3",Fe="0xf5996a159872e016472756a7723915EEdC357f58",Le="0xA8B43d92754f42E16012207bc6368Ede70FC4615",De=function(e){var t=r;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ae(t,e);var n,a=Ke(r);function r(e){var b;if(this instanceof r)return x(h(b=a.call(this,e)),"loadAccountInfo",E(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window,n=t.klaytn)return e.prev=2,e.next=5,n.enable();e.next=15;break;case 5:b.setAccountInfo(n),n.on("accountsChanged",function(){b.setAccountInfo(n)}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0),console.log("User denied account access");case 13:e.next=16;break;case 15:console.log("Non-Kaikas browser detected. You should consider trying Kaikas!");case 16:case"end":return e.stop()}},e,null,[[2,9]])}))),x(h(b),"setAccountInfo",E(regeneratorRuntime.mark(function e(){var t,n,a,r,c,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window,void 0===(t=t.klaytn))return e.abrupt("return");e.next=3;break;case 3:return n=new u.klay.Contract([{constant:!0,inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"id",type:"uint256"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}],Ue),a=t.selectedAddress,e.next=7,u.klay.getBalance(a);case 7:return r=e.sent,e.next=10,A.methods.balanceOf(a).call();case 10:return c=e.sent,e.next=13,n.methods.balanceOf(a,35).call();case 13:o=e.sent,b.setState({account:a,balance:u.utils.fromPeb(r,"KLAY"),balanceNFT:c,balanceStone:o,isLoading:!1});case 15:case"end":return e.stop()}},e)}))),x(h(b),"setBalance",E(regeneratorRuntime.mark(function e(){var t,n,a,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=b.state.account,n=new u.klay.Contract([{constant:!0,inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"id",type:"uint256"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}],Ue),e.next=4,A.methods.balanceOf(t).call();case 4:return a=e.sent,e.next=7,n.methods.balanceOf(t,35).call();case 7:r=e.sent,b.setState({balanceNFT:Pe(a),balanceStone:Pe(r)});case 9:case"end":return e.stop()}},e)}))),x(h(b),"setNetworkInfo",E(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window,void 0===(n=t.klaytn))return e.abrupt("return");e.next=3;break;case 3:b.setState({network:n.networkVersion}),n.on("networkChanged",function(){return b.setNetworkInfo(n.networkVersion)});case 5:case"end":return e.stop()}},e)}))),x(h(b),"moveSlide",function(e){b.state.currentIdx;b.setState({currentIdx:e})}),x(h(b),"prevSlide",function(){var e=b.state.currentIdx;0!==e&&b.moveSlide(e-1)}),x(h(b),"nextSlide",function(){var e=b.state.currentIdx;2!==e&&b.moveSlide(e+1)}),x(h(b),"movePotionSlide",function(e){b.state.currentPotionIdx;b.setState({currentPotionIdx:e})}),x(h(b),"prevPotionSlide",function(){var e=b.state.currentPotionIdx;0!==e&&b.movePotionSlide(e-1)}),x(h(b),"nextPotionSlide",function(){var e=b.state.currentPotionIdx;4!==e&&b.movePotionSlide(e+1)}),x(h(b),"onInputNum1",function(){var t=E(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:b.setState({num1:t.target.value});case 1:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()),x(h(b),"onInputNum2",function(){var t=E(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:b.setState({num2:t.target.value});case 1:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()),x(h(b),"onInputNum3",function(){var t=E(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:b.setState({num3:t.target.value});case 1:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()),x(h(b),"sendTx",function(){var t=E(regeneratorRuntime.mark(function e(t){var n,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=b.state,n=a.account,a.balance<2)return alert("2 Klay 이상 소유해야 합니다 :)"),e.abrupt("return");e.next=4;break;case 4:return a=new u.klay.Contract([{constant:!1,inputs:[{internalType:"address",name:"_account",type:"address"},{internalType:"uint256",name:"_id",type:"uint256"}],name:"useStone",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}],Fe),e.next=7,a.methods.useStone(n,t).send({from:n,gas:25e5}).on("transactionHash",function(e){console.log("txHash",e)}).on("receipt",function(e){console.log("receipt",e),b.setBalance(),alert("스톤 거래 완료!")}).on("error",function(e){console.log("error",e),alert("교환이 취소되었습니다.")});case 7:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()),x(h(b),"sendTxUp",function(){var t=E(regeneratorRuntime.mark(function e(t){var n,a,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=b.state,n=a.account,r=a.balance,a=a.currentPotionIdx,r<2)return alert("2 Klay 이상 소유해야 합니다 :)"),e.abrupt("return");e.next=4;break;case 4:return r=new u.klay.Contract([{constant:!1,inputs:[{internalType:"address",name:"_account",type:"address"},{internalType:"uint256",name:"_id",type:"uint256"}],name:"upPotion",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}],Le),e.next=7,r.methods.upPotion(n,a+t).send({from:n,gas:25e5}).on("transactionHash",function(e){console.log("txHash",e)}).on("receipt",function(e){console.log("receipt",e),b.setBalance(),alert("포션 업그레이드 완료!")}).on("error",function(e){console.log("error",e),alert("교환이 취소되었습니다.")});case 7:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()),x(h(b),"sendTxMix",function(){var t=E(regeneratorRuntime.mark(function e(t){var n,a,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=b.state,n=a.account,r=a.balance,a=a.currentPotionIdx,r<2)return alert("2 Klay 이상 소유해야 합니다 :)"),e.abrupt("return");e.next=4;break;case 4:return r=new u.klay.Contract([{constant:!1,inputs:[{internalType:"address",name:"_account",type:"address"},{internalType:"uint256",name:"_id",type:"uint256"}],name:"mixPotion",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}],Le),e.next=7,r.methods.mixPotion(n,a+t).send({from:n,gas:25e5}).on("transactionHash",function(e){console.log("txHash",e)}).on("receipt",function(e){console.log("receipt",e),b.setBalance(),alert("포션 믹스 완료!")}).on("error",function(e){console.log("error",e),alert("교환이 취소되었습니다.")});case 7:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()),x(h(b),"sendTxNFT",function(){var t=E(regeneratorRuntime.mark(function e(t){var n,a,r,c,o,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c=b.state,n=c.account,a=c.num1,r=c.num2,c=c.num3,o=new u.klay.Contract([{constant:!1,inputs:[{internalType:"uint256[]",name:"_tokenIds",type:"uint256[]"},{internalType:"uint256",name:"_count",type:"uint256"}],name:"useNFT",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}],Fe),l=[],0==t?l.push(a):1==t?(l.push(a),l.push(r)):2==t?(l.push(a),l.push(r),l.push(c)):console.log("error"),e.next=6,o.methods.useNFT(l,t+1).send({from:n,gas:25e5}).on("transactionHash",function(e){console.log("txHash",e)}).on("receipt",function(e){console.log("receipt",e),b.setBalance(),alert("열쇠 거래 완료!")}).on("error",function(e){console.log("error",e),alert("교환이 취소되었습니다.")});case 6:b.setState({modalOpen:!1,num1:"",num2:"",num3:""});case 7:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()),x(h(b),"setURI",function(){var t=E(regeneratorRuntime.mark(function e(a){var t,r,n,c,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(t=[],r=[],n=a.length,c=0;c<n;c++)o=function(){var t=E(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k()(a[t]);case 2:return n=e.sent,e.next=5,n.json();case 5:n=e.sent,console.log(n.image),r.push(n.image);case 8:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),t.push(o(c));return e.next=6,Promise.all(t);case 6:return e.abrupt("return",r);case 7:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()),x(h(b),"setOpen",function(){var t=E(regeneratorRuntime.mark(function e(t){var n,a,r,c,o,l,s,i,u,m,p,d,f,y,g;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(c=b.state,n=c.account,o=c.balance,a=c.num1,r=c.num2,c=c.num3,o<2)return alert("2 Klay 이상 소유해야 합니다 :)"),e.abrupt("return");e.next=4;break;case 4:if(o=new Date,l=o.getHours(),s=o.getMinutes(),console.log(l," ",s),20!=l&&21!=l){e.next=17;break}if(20==l)return alert("매일 20:00 ~ 21:30은 상점 점검 시간입니다 (진화 안정)"),e.abrupt("return");e.next=14;break;case 14:if(21==l&&s<=30)return alert("매일 20:00 ~ 21:30은 상점 점검 시간입니다 (진화 안정)"),e.abrupt("return");e.next=17;break;case 17:if(i=n.toUpperCase(),u=[],0!=t){e.next=37;break}if(""==a)return alert("NFT 값을 입력해주세요 :)"),e.abrupt("return");e.next=23;break;case 23:return e.next=25,A.methods.ownerOf(a).call();case 25:if(m=(m=e.sent).toUpperCase(),i!=m)return alert("".concat(a,"번 NFT의 소유주가 아닙니다.")),b.setState({num1:""}),e.abrupt("return");e.next=31;break;case 31:return e.next=33,A.methods.tokenURI(a).call();case 33:m=e.sent,u.push(m),e.next=107;break;case 37:if(1!=t){e.next=67;break}if(""==a||""==r)return alert("NFT 값을 입력해주세요 :)"),e.abrupt("return");e.next=41;break;case 41:return e.next=43,A.methods.ownerOf(a).call();case 43:if(p=(p=e.sent).toUpperCase(),i!=p)return alert("".concat(a,"번 NFT의 소유주가 아닙니다.")),b.setState({num1:"",num2:""}),e.abrupt("return");e.next=49;break;case 49:return e.next=51,A.methods.ownerOf(r).call();case 51:if(p=(p=e.sent).toUpperCase(),i!=p)return alert("".concat(r,"번 NFT의 소유주가 아닙니다.")),b.setState({num1:"",num2:""}),e.abrupt("return");e.next=57;break;case 57:return e.next=59,A.methods.tokenURI(a).call();case 59:return d=e.sent,u.push(d),e.next=63,A.methods.tokenURI(r).call();case 63:d=e.sent,u.push(d),e.next=107;break;case 67:if(2!=t){e.next=107;break}if(""==a||""==r||""==c)return alert("NFT 값을 입력해주세요 :)"),e.abrupt("return");e.next=71;break;case 71:return e.next=73,A.methods.ownerOf(a).call();case 73:if(f=(f=e.sent).toUpperCase(),i!=f)return alert("".concat(a,"번 NFT의 소유주가 아닙니다.")),b.setState({num1:"",num2:"",num3:""}),e.abrupt("return");e.next=79;break;case 79:return e.next=81,A.methods.ownerOf(r).call();case 81:if(f=(f=e.sent).toUpperCase(),i!=f)return alert("".concat(r,"번 NFT의 소유주가 아닙니다.")),b.setState({num1:"",num2:"",num3:""}),e.abrupt("return");e.next=87;break;case 87:return e.next=89,A.methods.ownerOf(c).call();case 89:if(f=(f=e.sent).toUpperCase(),i!=f)return alert("".concat(c,"번 NFT의 소유주가 아닙니다.")),b.setState({num1:"",num2:"",num3:""}),e.abrupt("return");e.next=95;break;case 95:return e.next=97,A.methods.tokenURI(a).call();case 97:return y=e.sent,u.push(y),e.next=101,A.methods.tokenURI(r).call();case 101:return y=e.sent,u.push(y),e.next=105,A.methods.tokenURI(c).call();case 105:y=e.sent,u.push(y);case 107:return e.next=109,b.setURI(u);case 109:g=e.sent,console.log(g),b.setState({level:t,urls:g,modalOpen:!0});case 112:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()),x(h(b),"closeModal",function(){b.setState({num1:"",num2:"",num3:"",modalOpen:!1})}),b.state={account:"",balance:0,balanceNFT:0,balanceStone:0,isLoading:!0,currentIdx:0,currentPotionIdx:0,level:0,num1:"",num2:"",num3:"",urls:[],txHash:"",receipt:!1,error:!1,modalOpen:!1},b.ref=P.a.createRef(),b;throw new TypeError("Cannot call a class as a function")}return t=r,(e=[{key:"componentDidMount",value:function(){this.setNetworkInfo(),this.loadAccountInfo()}},{key:"render",value:function(){var t=this,e=this.state,n=e.account,a=e.balanceNFT,r=e.balanceStone,c=e.isLoading,o=e.currentIdx,l=e.currentPotionIdx,s=e.level,i=e.num1,u=e.num2,m=e.num3,p=e.urls,e=e.modalOpen;return P.a.createElement(j,null,P.a.createElement("div",{className:"KeplerShopPage"},P.a.createElement(O,{address:n,load:c}),P.a.createElement("div",{className:"KeplerShopPage__main"},P.a.createElement("div",{className:"KeplerShopPage__title"},P.a.createElement("img",{src:"images/shop/goldot_shop_logo.png"})),P.a.createElement("div",{className:"KeplerShopPage__subtitle"},P.a.createElement("p",null,"골닷 상점에 오신 걸 환영합니다")),P.a.createElement("div",{className:"KeplerShopPage__banner"},P.a.createElement("img",{src:"images/shop/goldot_shop_banner.png"})),P.a.createElement("div",{className:"KeplerShopPage__contents"},P.a.createElement("div",{className:"KeplerShopPage__table"},P.a.createElement("div",{className:"table_title"},P.a.createElement("img",{src:"images/shop/box_title.png"})),0==o?P.a.createElement("div",{className:"table_contents"},P.a.createElement("div",{className:"items"},P.a.createElement("ul",{className:"item"},P.a.createElement("li",{className:"item_bg"},P.a.createElement("img",{src:"images/shop/faded_stone.png"})),P.a.createElement("li",null,P.a.createElement("h2",null,"X")),P.a.createElement("li",null,P.a.createElement("h1",null,"10")),P.a.createElement("li",null,P.a.createElement("img",{src:"images/shop/after.png",className:"item_arrow"})),P.a.createElement("li",{className:"item_bg"},P.a.createElement("img",{src:"images/shop/normal_pickaxe.png"})),P.a.createElement("div",{className:"item_border",onClick:function(e){return t.sendTx(0)}},P.a.createElement("p",null,"교환"))),P.a.createElement("div",{className:"item_m",onClick:function(e){return t.sendTx(0)}},P.a.createElement("p",null,"교환"))),P.a.createElement("div",{className:"items"},P.a.createElement("ul",{className:"item"},P.a.createElement("li",{className:"item_bg"},P.a.createElement("img",{src:"images/shop/faded_stone.png"})),P.a.createElement("li",null,P.a.createElement("h2",null,"X")),P.a.createElement("li",null,P.a.createElement("h1",null,"20")),P.a.createElement("li",null,P.a.createElement("img",{src:"images/shop/after.png",className:"item_arrow"})),P.a.createElement("li",{className:"item_bg"},P.a.createElement("img",{src:"images/shop/rare_pickaxe.png"})),P.a.createElement("div",{className:"item_border",onClick:function(e){return t.sendTx(1)}},P.a.createElement("p",null,"교환"))),P.a.createElement("div",{className:"item_m",onClick:function(e){return t.sendTx(1)}},P.a.createElement("p",null,"교환"))),P.a.createElement("div",{className:"items"},P.a.createElement("ul",{className:"item"},P.a.createElement("li",{className:"item_bg"},P.a.createElement("img",{src:"images/shop/faded_stone.png"})),P.a.createElement("li",null,P.a.createElement("h2",null,"X")),P.a.createElement("li",null,P.a.createElement("h1",null,"30")),P.a.createElement("li",null,P.a.createElement("img",{src:"images/shop/after.png",className:"item_arrow"})),P.a.createElement("li",{className:"item_bg"},P.a.createElement("img",{src:"images/shop/unique_pickaxe.png"})),P.a.createElement("div",{className:"item_border",onClick:function(e){return t.sendTx(2)}},P.a.createElement("p",null,"교환"))),P.a.createElement("div",{className:"item_m",onClick:function(e){return t.sendTx(2)}},P.a.createElement("p",null,"교환"))),P.a.createElement("div",{className:"item_count"},P.a.createElement("p",null,"남은 빛바랜 스톤 갯수"),P.a.createElement("p",null,r))):null,1==o?P.a.createElement("div",{className:"table_contents"},P.a.createElement("div",{className:"items"},P.a.createElement("ul",{className:"item"},P.a.createElement("li",null,P.a.createElement("input",{type:"text",placeholder:"번호 기입",onChange:this.onInputNum1,value:i})),P.a.createElement("li",null,P.a.createElement("img",{src:"images/shop/after.png",className:"item_arrow"})),P.a.createElement("li",null,P.a.createElement("img",{src:"images/shop/normal_key.png",className:"item_bg"})),P.a.createElement("div",{className:"item_border",onClick:function(e){return t.setOpen(0)}},P.a.createElement("p",null,"교환"))),P.a.createElement("div",{className:"item_m",onClick:function(e){return t.setOpen(0)}},P.a.createElement("p",null,"교환"))),P.a.createElement("div",{className:"items"},P.a.createElement("ul",{className:"item"},P.a.createElement("div",null,P.a.createElement("li",null,P.a.createElement("input",{type:"text",placeholder:"번호 기입",onChange:this.onInputNum1,value:i})),P.a.createElement("li",null,P.a.createElement("input",{type:"text",placeholder:"번호 기입",onChange:this.onInputNum2,value:u}))),P.a.createElement("li",null,P.a.createElement("img",{src:"images/shop/after.png",className:"item_arrow"})),P.a.createElement("li",null,P.a.createElement("img",{src:"images/shop/rare_key.png",className:"item_bg"})),P.a.createElement("div",{className:"item_border",onClick:function(e){return t.setOpen(1)}},P.a.createElement("p",null,"교환"))),P.a.createElement("div",{className:"item_m",onClick:function(e){return t.setOpen(1)}},P.a.createElement("p",null,"교환"))),P.a.createElement("div",{className:"items"},P.a.createElement("ul",{className:"item"},P.a.createElement("li",null,P.a.createElement("li",null,P.a.createElement("input",{type:"text",placeholder:"번호 기입",onChange:this.onInputNum1,value:i})),P.a.createElement("li",null,P.a.createElement("input",{type:"text",placeholder:"번호 기입",onChange:this.onInputNum2,value:u})),P.a.createElement("li",null,P.a.createElement("input",{type:"text",placeholder:"번호 기입",onChange:this.onInputNum3,value:m}))),P.a.createElement("li",null,P.a.createElement("img",{src:"images/shop/after.png",className:"item_arrow"})),P.a.createElement("li",null,P.a.createElement("img",{src:"images/shop/unique_key.png",className:"item_bg"})),P.a.createElement("div",{className:"item_border",onClick:function(e){return t.setOpen(2)}},P.a.createElement("p",null,"교환"))),P.a.createElement("div",{className:"item_m",onClick:function(e){return t.setOpen(2)}},P.a.createElement("p",null,"교환"))),P.a.createElement("div",{className:"item_count"},P.a.createElement("p",null,"남은 NFT 갯수"),P.a.createElement("p",null,a))):null,2==o&&4!=l?P.a.createElement("div",{className:"table_contents"},P.a.createElement("div",{className:"items"},P.a.createElement("div",{className:"another"},P.a.createElement("p",null,"현재 보고 있는 종"),P.a.createElement("div",{className:"current_type"},P.a.createElement("span",{className:"prev",onClick:this.prevPotionSlide},P.a.createElement("img",{src:"images/shop/left.png"})),P.a.createElement("p",null,l+1," 종"),P.a.createElement("span",{className:"next",onClick:this.nextPotionSlide},P.a.createElement("img",{src:"images/shop/right.png"})))),P.a.createElement("ul",{className:"item"},P.a.createElement("li",{className:"item_bg"},P.a.createElement("img",{src:"images/items/".concat(l+1,"S.png")})),P.a.createElement("li",null,P.a.createElement("h2",null,"X")),P.a.createElement("li",null,P.a.createElement("h1",null,"10")),P.a.createElement("li",null,P.a.createElement("img",{src:"images/shop/after.png",className:"item_arrow"})),P.a.createElement("li",{className:"item_bg"},P.a.createElement("img",{src:"images/items/".concat(l+1,"M.png")})),P.a.createElement("div",{className:"item_border",onClick:function(e){return t.sendTxUp(20)}},P.a.createElement("p",null,"교환"))),P.a.createElement("div",{className:"item_m",onClick:function(e){return t.sendTxUp(20)}},P.a.createElement("p",null,"교환"))),P.a.createElement("div",{className:"items"},P.a.createElement("ul",{className:"item"},P.a.createElement("li",{className:"item_bg"},P.a.createElement("img",{src:"images/items/".concat(l+1,"M.png")})),P.a.createElement("li",null,P.a.createElement("h2",null,"X")),P.a.createElement("li",null,P.a.createElement("h1",null,"10")),P.a.createElement("li",null,P.a.createElement("img",{src:"images/shop/after.png",className:"item_arrow"})),P.a.createElement("li",{className:"item_bg"},P.a.createElement("img",{src:"images/items/".concat(l+1,"L.png")})),P.a.createElement("div",{className:"item_border",onClick:function(e){return t.sendTxUp(10)}},P.a.createElement("p",null,"교환"))),P.a.createElement("div",{className:"item_m",onClick:function(e){return t.sendTxUp(10)}},P.a.createElement("p",null,"교환"))),P.a.createElement("div",{className:"items"},P.a.createElement("ul",{className:"item"},P.a.createElement("li",{className:"item_bg"},P.a.createElement("img",{src:"images/items/".concat(l+1,"S.png")})),P.a.createElement("li",null,P.a.createElement("h2",null,"+")),P.a.createElement("li",{className:"item_bg"},P.a.createElement("img",{src:"images/items/".concat(l+2,"S.png")})),P.a.createElement("li",null,P.a.createElement("img",{src:"images/shop/after.png",className:"item_arrow"})),P.a.createElement("li",{className:"item_bg"},P.a.createElement("img",{src:"images/items/".concat(l+6,"S.png")})),P.a.createElement("div",{className:"item_border",onClick:function(e){return t.sendTxMix(20)}},P.a.createElement("p",null,"교환"))),P.a.createElement("div",{className:"item_m",onClick:function(e){return t.sendTxMix(20)}},P.a.createElement("p",null,"교환"))),P.a.createElement("div",{className:"items"},P.a.createElement("ul",{className:"item"},P.a.createElement("li",{className:"item_bg"},P.a.createElement("img",{src:"images/items/".concat(l+1,"M.png")})),P.a.createElement("li",null,P.a.createElement("h2",null,"+")),P.a.createElement("li",{className:"item_bg"},P.a.createElement("img",{src:"images/items/".concat(l+2,"M.png")})),P.a.createElement("li",null,P.a.createElement("img",{src:"images/shop/after.png",className:"item_arrow"})),P.a.createElement("li",{className:"item_bg"},P.a.createElement("img",{src:"images/items/".concat(l+6,"M.png")})),P.a.createElement("div",{className:"item_border",onClick:function(e){return t.sendTxMix(10)}},P.a.createElement("p",null,"교환"))),P.a.createElement("div",{className:"item_m",onClick:function(e){return t.sendTxMix(10)}},P.a.createElement("p",null,"교환"))),P.a.createElement("div",{className:"items"},P.a.createElement("ul",{className:"item"},P.a.createElement("li",{className:"item_bg"},P.a.createElement("img",{src:"images/items/".concat(l+1,"L.png")})),P.a.createElement("li",null,P.a.createElement("h2",null,"+")),P.a.createElement("li",{className:"item_bg"},P.a.createElement("img",{src:"images/items/".concat(l+2,"L.png")})),P.a.createElement("li",null,P.a.createElement("img",{src:"images/shop/after.png",className:"item_arrow"})),P.a.createElement("li",{className:"item_bg"},P.a.createElement("img",{src:"images/items/".concat(l+6,"L.png")})),P.a.createElement("div",{className:"item_border",onClick:function(e){return t.sendTxMix(0)}},P.a.createElement("p",null,"교환"))),P.a.createElement("div",{className:"item_m",onClick:function(e){return t.sendTxMix(0)}},P.a.createElement("p",null,"교환")))):null,2==o&&4==l?P.a.createElement("div",{className:"table_contents"},P.a.createElement("div",{className:"items"},P.a.createElement("div",{className:"another"},P.a.createElement("p",null,"현재 보고 있는 종"),P.a.createElement("div",{className:"current_type"},P.a.createElement("span",{className:"prev",onClick:this.prevPotionSlide},P.a.createElement("img",{src:"images/shop/left.png"})),P.a.createElement("p",null,l+1," 종"),P.a.createElement("span",{className:"next",onClick:this.nextPotionSlide},P.a.createElement("img",{src:"images/shop/right.png"})))),P.a.createElement("ul",{className:"item"},P.a.createElement("li",{className:"item_bg"},P.a.createElement("img",{src:"images/items/".concat(l+1,"S.png")})),P.a.createElement("li",null,P.a.createElement("h2",null,"X")),P.a.createElement("li",null,P.a.createElement("h1",null,"10")),P.a.createElement("li",null,P.a.createElement("img",{src:"images/shop/after.png",className:"item_arrow"})),P.a.createElement("li",{className:"item_bg"},P.a.createElement("img",{src:"images/items/".concat(l+1,"M.png")})),P.a.createElement("div",{className:"item_border",onClick:function(e){return t.sendTxUp(20)}},P.a.createElement("p",null,"교환"))),P.a.createElement("div",{className:"item_m",onClick:function(e){return t.sendTxUp(20)}},P.a.createElement("p",null,"교환"))),P.a.createElement("div",{className:"items"},P.a.createElement("ul",{className:"item"},P.a.createElement("li",{className:"item_bg"},P.a.createElement("img",{src:"images/items/".concat(l+1,"M.png")})),P.a.createElement("li",null,P.a.createElement("h2",null,"X")),P.a.createElement("li",null,P.a.createElement("h1",null,"10")),P.a.createElement("li",null,P.a.createElement("img",{src:"images/shop/after.png",className:"item_arrow"})),P.a.createElement("li",{className:"item_bg"},P.a.createElement("img",{src:"images/items/".concat(l+1,"L.png")})),P.a.createElement("div",{className:"item_border",onClick:function(e){return t.sendTxUp(10)}},P.a.createElement("p",null,"교환"))),P.a.createElement("div",{className:"item_m",onClick:function(e){return t.sendTxUp(10)}},P.a.createElement("p",null,"교환"))),P.a.createElement("div",{className:"items"},P.a.createElement("ul",{className:"item"},P.a.createElement("li",{className:"item_bg"},P.a.createElement("img",{src:"images/items/".concat(l+1,"S.png")})),P.a.createElement("li",null,P.a.createElement("h2",null,"+")),P.a.createElement("li",{className:"item_bg"},P.a.createElement("img",{src:"images/items/".concat(l-3,"S.png")})),P.a.createElement("li",null,P.a.createElement("img",{src:"images/shop/after.png",className:"item_arrow"})),P.a.createElement("li",{className:"item_bg"},P.a.createElement("img",{src:"images/items/".concat(l+6,"S.png")})),P.a.createElement("div",{className:"item_border",onClick:function(e){return t.sendTxMix(20)}},P.a.createElement("p",null,"교환"))),P.a.createElement("div",{className:"item_m",onClick:function(e){return t.sendTxMix(20)}},P.a.createElement("p",null,"교환"))),P.a.createElement("div",{className:"items"},P.a.createElement("ul",{className:"item"},P.a.createElement("li",{className:"item_bg"},P.a.createElement("img",{src:"images/items/".concat(l+1,"M.png")})),P.a.createElement("li",null,P.a.createElement("h2",null,"+")),P.a.createElement("li",{className:"item_bg"},P.a.createElement("img",{src:"images/items/".concat(l-3,"M.png")})),P.a.createElement("li",null,P.a.createElement("img",{src:"images/shop/after.png",className:"item_arrow"})),P.a.createElement("li",{className:"item_bg"},P.a.createElement("img",{src:"images/items/".concat(l+6,"M.png")})),P.a.createElement("div",{className:"item_border",onClick:function(e){return t.sendTxMix(10)}},P.a.createElement("p",null,"교환"))),P.a.createElement("div",{className:"item_m",onClick:function(e){return t.sendTxMix(10)}},P.a.createElement("p",null,"교환"))),P.a.createElement("div",{className:"items"},P.a.createElement("ul",{className:"item"},P.a.createElement("li",{className:"item_bg"},P.a.createElement("img",{src:"images/items/".concat(l+1,"L.png")})),P.a.createElement("li",null,P.a.createElement("h2",null,"+")),P.a.createElement("li",{className:"item_bg"},P.a.createElement("img",{src:"images/items/".concat(l-3,"L.png")})),P.a.createElement("li",null,P.a.createElement("img",{src:"images/shop/after.png",className:"item_arrow"})),P.a.createElement("li",{className:"item_bg"},P.a.createElement("img",{src:"images/items/".concat(l+6,"L.png")})),P.a.createElement("div",{className:"item_border",onClick:function(e){return t.sendTxMix(0)}},P.a.createElement("p",null,"교환"))),P.a.createElement("div",{className:"item_m",onClick:function(e){return t.sendTxMix(0)}},P.a.createElement("p",null,"교환")))):null,P.a.createElement(Re,{open:e,num1:i,num2:u,num3:m,urls:p,tx:function(e){return t.sendTxNFT(s)},close:this.closeModal})),P.a.createElement("div",{className:"table_changer"},P.a.createElement("span",{className:"prev",onClick:this.prevSlide},P.a.createElement("img",{src:"images/shop/left.png"})),P.a.createElement("p",null,["곡괭이 교환","열쇠 교환","포션 교환"][o]),P.a.createElement("span",{className:"next",onClick:this.nextSlide},P.a.createElement("img",{src:"images/shop/right.png"}))),P.a.createElement("div",{className:"check"},P.a.createElement("p",null,"2 Klay 이상 소유해야 트랜잭션이 에러를 발생시키지 않습니다"),P.a.createElement("p",null,"(최대 가스비 인상 때문)")),P.a.createElement("div",{className:"check"},P.a.createElement("p",null,"매일 20:30 ~ 21:30은 열쇠 거래가 제한됩니다"),P.a.createElement("p",null,"(진화 안정성 때문)"))))))}}])&&je(t.prototype,e),n&&je(t,n),Object.defineProperty(t,"prototype",{writable:!1}),r}(S.Component);t(654),t(655);function He(e){return(He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ve(e,t,n,a,r,c,o){try{var l=e[c](o),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(a,r)}function _(l){return function(){var e=this,o=arguments;return new Promise(function(t,n){var a=l.apply(e,o);function r(e){Ve(a,t,n,r,c,"next",e)}function c(e){Ve(a,t,n,r,c,"throw",e)}r(void 0)})}}function Ge(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Ye(e,t){return(Ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qe(n){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=Xe(n),t=(e=a?(e=Xe(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&("object"===He(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return N(t)}}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xe(e){return(Xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}var Je=function(e){var t=r;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ye(t,e);var n,a=qe(r);function r(e){var i;if(this instanceof r)return T(N(i=a.call(this,e)),"loadAccountInfo",_(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window,n=t.klaytn)return e.prev=2,e.next=5,n.enable();e.next=14;break;case 5:i.setAccountInfo(n),n.on("accountsChanged",function(){i.setAccountInfo(n)}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log("User denied account access");case 12:e.next=15;break;case 14:console.log("Non-Kaikas browser detected. You should consider trying Kaikas!");case 15:case"end":return e.stop()}},e,null,[[2,9]])}))),T(N(i),"setAccountInfo",_(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window,void 0===(t=t.klaytn))return e.abrupt("return");e.next=3;break;case 3:n=t.selectedAddress,i.setState({account:n});case 5:case"end":return e.stop()}},e)}))),T(N(i),"setStatus",function(){var t=_(regeneratorRuntime.mark(function e(t){var n,a,r,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=[],a=t.length,r=0;case 3:if(!(r<a)){e.next=14;break}if(0==t[r])return n.push("0"),e.abrupt("continue",11);e.next=7;break;case 7:return e.next=9,fetch("https://governance.api.kepler-452b.net/governance/"+(a-1-r)).then(function(e){return e.json()});case 9:(c=e.sent).voteAgree>c.voteDegree?n.push("3"):c.voteAgree<c.voteDegree?n.push("4"):c.voteAgree==c.voteDegree&&n.push("5");case 11:r++,e.next=3;break;case 14:return e.abrupt("return",n);case 15:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()),T(N(i),"setProposal",_(regeneratorRuntime.mark(function e(){var a,r,c,t,n,o,l,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=new u.klay.Contract([{constant:!0,inputs:[],name:"proposalCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"proposals",outputs:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"address",name:"proposer",type:"address"},{internalType:"string",name:"title",type:"string"},{internalType:"string",name:"content",type:"string"},{internalType:"string",name:"summary",type:"string"},{internalType:"uint256",name:"blockNumber",type:"uint256"},{internalType:"address",name:"proposenft",type:"address"},{internalType:"uint256",name:"votePeriod",type:"uint256"},{internalType:"bool",name:"canceled",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"_proposalId",type:"uint256"}],name:"status",outputs:[{internalType:"uint8",name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"}],"0x71296B11a5E298d65B6cA395c469e7b5A908B5c4"),r=[],c=[],e.next=5,a.methods.proposalCount().call();case 5:for(t=e.sent,n=[],o=0;o<t;o++)l=function(){var t=_(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.methods.proposals(t).call();case 2:return n=e.sent,r.push(n),e.next=6,a.methods.status(t).call();case 6:n=e.sent,c.push(n);case 8:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),n.push(l(o));return e.next=10,Promise.all(n);case 10:return r.sort(function(e,t){return parseInt(e.id)>parseInt(t.id)?-1:parseInt(e.id)<parseInt(t.id)?1:0}),c.sort(),e.next=14,i.setStatus(c);case 14:s=e.sent,i.setState({proposals:r,status:s,isProposalLoading:!1});case 16:case"end":return e.stop()}},e)}))),T(N(i),"setSectionPrev",_(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0==(t=i.state.section))return alert("첫번째 페이지입니다."),e.abrupt("return");e.next=4;break;case 4:i.setState({section:t-1});case 5:case"end":return e.stop()}},e)}))),T(N(i),"setSectionNext",_(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.state,n=t.section,t.proposals.length-5*n<=5)return alert("마지막 페이지입니다."),e.abrupt("return");e.next=4;break;case 4:i.setState({section:n+1});case 5:case"end":return e.stop()}},e)}))),T(N(i),"setNetworkInfo",_(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window,void 0===(n=t.klaytn))return e.abrupt("return");e.next=3;break;case 3:i.setState({network:n.networkVersion}),n.on("networkChanged",function(){return i.setNetworkInfo(n.networkVersion)});case 5:case"end":return e.stop()}},e)}))),i.state={account:"",network:null,isLoading:!0,isProposalLoading:!0,tokenURI:"",proposals:[],section:0,status:[],agree:0,degree:0,result:""},i;throw new TypeError("Cannot call a class as a function")}return t=r,(e=[{key:"componentDidMount",value:function(){this.loadAccountInfo(),this.setNetworkInfo(),this.setProposal()}},{key:"render",value:function(){var e=this.state,t=e.account,n=e.isLoading,a=(e.isProposalLoading,e.proposals),r=e.section,e=e.status,c=["투표중","투표 완료","투표 취소","찬성","반대","보류"],o=a.slice(5*r,5*r+5).map(function(e){return P.a.createElement("li",{key:e.id},P.a.createElement(M.b,{to:"/governance/".concat(parseInt(e.id)+1)},parseInt(e.id)+1))}),a=a.slice(5*r,5*r+5).map(function(e){return P.a.createElement("li",{key:e.id},P.a.createElement(M.b,{to:"/governance/".concat(parseInt(e.id)+1)},e.title))}),e=e.slice(5*r,5*r+5).map(function(e,t){return P.a.createElement("li",{key:t},c[e])});return P.a.createElement(j,null,P.a.createElement("div",{className:"KeplerGovernancePage"},P.a.createElement(O,{address:t,load:n}),P.a.createElement(P.a.Fragment,null,P.a.createElement("div",{className:"KeplerGovernancePage__header"},P.a.createElement("div",{className:"KeplerGovernanacePage__title"},P.a.createElement("h3",null,"Kepler-452b"),P.a.createElement("h2",null,"GOVERNANCE")),P.a.createElement("img",{src:"images/governance/gove_icon.png"})),P.a.createElement("div",{className:"KeplerGovernancePage__proposal"},P.a.createElement("div",{className:"btn_proposal"},P.a.createElement(M.b,{to:"/proposal"},"제안 작성하기"))),P.a.createElement("div",{className:"KeplerGovernancePage__main"},P.a.createElement("div",{className:"KeplerGovernancePage__infoBox"},P.a.createElement("p",null,"케플러 식물 NFT를 소유중이라면 투표를 진행하고 제안을 작성할 수 있습니다."),P.a.createElement("p",null,"더 나은 Kepler-452b 프로젝트를 위해 여러분의 의견을 보여주세요")),P.a.createElement("div",{className:"KeplerGovernancePage__contents"},P.a.createElement("div",{className:"KeplerProposalList__title"},"LIST"),P.a.createElement("div",{className:"List__contents"},P.a.createElement("div",{className:"List__proposals"},P.a.createElement("div",{className:"List__numbers"},P.a.createElement("ul",null,o)),P.a.createElement("div",{className:"List__titles"},P.a.createElement("ul",null,a)),P.a.createElement("div",{className:"List__result"},P.a.createElement("ul",null,e))))),P.a.createElement("div",{className:"KeplerGovernancePage__section"},P.a.createElement("span",{className:"prev",onClick:this.setSectionPrev},P.a.createElement("img",{src:"images/governance/prev.png"})),P.a.createElement("p",null,r+1),P.a.createElement("span",{className:"next",onClick:this.setSectionNext},P.a.createElement("img",{src:"images/governance/next.png"})))))))}}])&&Ge(t.prototype,e),n&&Ge(t,n),Object.defineProperty(t,"prototype",{writable:!1}),r}(S.Component);t(656);function We(e){return(We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $e(e,t,n,a,r,c,o){try{var l=e[c](o),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(a,r)}function I(l){return function(){var e=this,o=arguments;return new Promise(function(t,n){var a=l.apply(e,o);function r(e){$e(a,t,n,r,c,"next",e)}function c(e){$e(a,t,n,r,c,"throw",e)}r(void 0)})}}function ze(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Qe(e,t){return(Qe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ze(n){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=et(n),t=(e=a?(e=et(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&("object"===We(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return R(t)}}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function et(e){return(et=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function K(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}var tt="0x71296B11a5E298d65B6cA395c469e7b5A908B5c4",nt="0x75dcAA3eb2403c7725Cc8e5E38f6949eBaB28aCC",at=function(e){var t=r;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qe(t,e);var n,a=Ze(r);function r(e){var m;if(this instanceof r)return K(R(m=a.call(this,e)),"loadAccountInfo",I(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window,n=t.klaytn)return e.prev=2,e.next=5,n.enable();e.next=14;break;case 5:m.setAccountInfo(n),n.on("accountsChanged",function(){m.setAccountInfo(n)}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log("User denied account access");case 12:e.next=15;break;case 14:console.log("Non-Kaikas browser detected. You should consider trying Kaikas!");case 15:case"end":return e.stop()}},e,null,[[2,9]])}))),K(R(m),"setAccountInfo",I(regeneratorRuntime.mark(function e(){var t,n,a,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window,void 0===(t=t.klaytn))return e.abrupt("return");e.next=3;break;case 3:return a=new caver.klay.Contract([{constant:!0,inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}],nt),n=t.selectedAddress,e.next=7,a.methods.balanceOf(n).call();case 7:a=e.sent,r=String((a/1e18).toFixed(4)),m.setState({account:n,balance:r,isLoading:!1});case 10:case"end":return e.stop()}},e)}))),K(R(m),"setNetworkInfo",I(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window,void 0===(n=t.klaytn))return e.abrupt("return");e.next=3;break;case 3:m.setState({network:n.networkVersion}),n.on("networkChanged",function(){return m.setNetworkInfo(n.networkVersion)});case 5:case"end":return e.stop()}},e)}))),K(R(m),"onEventTitleChange",function(){var t=I(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:m.setState({title:t.target.value});case 1:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()),K(R(m),"onEventPeriodChange",function(){var t=I(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:m.setState({period:t.target.value});case 1:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()),K(R(m),"onEventContentChange",function(){var t=I(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:m.setState({content:t.target.value});case 1:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()),K(R(m),"onEventSummaryChange",function(){var t=I(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:m.setState({summary:t.target.value});case 1:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()),K(R(m),"signTransaction",I(regeneratorRuntime.mark(function e(){var t,n,a,r,c,o,l,s,i,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=m.state,t=o.account,n=o.balance,a=o.title,r=o.period,c=o.content,o=o.summary,""==a)return alert("제목을 입력해 주세요"),e.abrupt("return");e.next=6;break;case 6:if(""==r)return alert("투표 기간을 입력해 주세요"),e.abrupt("return");e.next=11;break;case 11:if(""==c)return alert("세부 내용을 입력해 주세요"),e.abrupt("return");e.next=16;break;case 16:if(""==o)return alert("요약을 입력해 주세요"),e.abrupt("return");e.next=19;break;case 19:if((l=parseInt(r))<86400||604800<l)return alert("투표 기간을 재설정해 주세요"),m.setState({period:""}),e.abrupt("return");e.next=24;break;case 24:return s=new caver.klay.Contract([{constant:!1,inputs:[{internalType:"string",name:"_title",type:"string"},{internalType:"string",name:"_summary",type:"string"},{internalType:"string",name:"_content",type:"string"},{internalType:"uint256",name:"_votePeriod",type:"uint256"},{internalType:"address",name:"_nft",type:"address"}],name:"propose",outputs:[{internalType:"uint256",name:"proposalId",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"proposePrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}],tt),i=new caver.klay.Contract([{constant:!0,inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],nt),console.log(a),console.log(r),console.log(c),console.log(o),e.next=32,s.methods.proposePrice().call();case 32:if(u=e.sent,n<u/1e18)return alert("KLU가 부족합니다 : ".concat(n)),e.abrupt("return");e.next=36;break;case 36:return e.next=38,i.methods.allowance("0x33365F518A0F333365b7FF53BEAbf1F5b1247b5C",tt).call();case 38:if(e.sent)return e.next=42,i.methods.approve("0x571110c0FFc5cC3B325C2bc13355E0Aab422836F",u).send({from:t,gas:25e5}).then(function(e){return console.log(e)}).catch(function(e){console.log("error",e),alert("클루 토큰 사용이 취소되었습니다.")});e.next=44;break;case 42:e.next=46;break;case 44:return alert("에러 발생! 다시 시도해주세요.\n 반복된다면 개발자에게 1:1 메시지를 남겨주세요!"),e.abrupt("return");case 46:return e.next=48,s.methods.propose(a,o,c,r,"0x928267E7dB3d173898553Ff593A78719Bb16929F").send({from:t,gas:75e5}).then(function(e){console.log(e),alert("제안이 정상적으로 완료되었습니다."),m.setState({title:"",period:"",content:"",summary:""}),window.location.replace("/#/governance")}).catch(function(e){console.log("error",e),alert("제안 중에 에러가 발생하였습니다.")});case 48:case"end":return e.stop()}},e)}))),m.state={account:"",balance:0,isLoading:!0,title:"",period:"",content:"",summary:""},m;throw new TypeError("Cannot call a class as a function")}return t=r,(e=[{key:"componentDidMount",value:function(){this.loadAccountInfo(),this.setNetworkInfo()}},{key:"render",value:function(){var e=this.state,t=e.account,e=e.isLoading;return P.a.createElement(j,null,P.a.createElement("div",{className:"KeplerProposalPage"},P.a.createElement(O,{address:t,load:e}),P.a.createElement("div",{className:"container"},P.a.createElement("div",{className:"KeplerProposalPage__before"},P.a.createElement(M.b,{to:"/governance"},P.a.createElement("div",{className:"prev"},P.a.createElement("img",{src:"../images/governance/goback.png"}),P.a.createElement("p",null,"목록으로 돌아가기")))),P.a.createElement("div",{className:"KeplerProposalPage__contents"},P.a.createElement("div",{className:"KeplerProposalPage__title"},"제안 작성하기"),P.a.createElement("form",null,P.a.createElement("div",{className:"mb-3"},P.a.createElement("label",{htmlFor:"gove-title",className:"form-label"},"제목"),P.a.createElement("input",{type:"text",className:"form-control",onChange:this.onEventTitleChange,placeholder:"50자 이내로 입력해 주세요."})),P.a.createElement("div",{className:"mb-3"},P.a.createElement("label",{htmlFor:"gove-period",className:"form-label"},"투표 기간"),P.a.createElement("input",{type:"text",className:"form-control",onChange:this.onEventPeriodChange,placeholder:"86400(하루) ~ 604800(일주일) 사이로 입력해주세요."})),P.a.createElement("p",null,"투표 기간은 블록넘버로 작성해야 합니다. =>",P.a.createElement("a",{href:"https://scope.klaytn.com/"}," [ 클레이스코프 ]")),P.a.createElement("div",{className:"mb-3 detail"},P.a.createElement("label",{htmlFor:"gove-contents",className:"form-label"},"세부 내용"),P.a.createElement("textarea",{type:"text",className:"form-control gove-contents",onChange:this.onEventContentChange,placeholder:"여러 이슈를 대비해서 꼭 메모장 등에 먼저 작성해주세요."})),P.a.createElement("div",{className:"mb-3"},P.a.createElement("label",{htmlFor:"gove-summary",className:"form-label"},"요약"),P.a.createElement("textarea",{type:"text",className:"form-control gove-summary",onChange:this.onEventSummaryChange,placeholder:"간단한 3줄 요약, 하고 싶은 말 등 무엇이든 환영입니다."})),P.a.createElement("div",{className:"mb-3"},P.a.createElement("label",{htmlFor:"exampleInputPassword1",className:"form-label"},"제안자"),P.a.createElement("p",{id:"account"},t)),P.a.createElement("div",{type:"submit",className:"btn-suggest",onClick:this.signTransaction},"완료하기"),P.a.createElement("p",null,"* 제안에는 100 클루가 소각됩니다. "))))))}}])&&ze(t.prototype,e),n&&ze(t,n),Object.defineProperty(t,"prototype",{writable:!1}),r}(S.Component);t(657);function rt(e,t,n,a,r,c,o){try{var l=e[c](o),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(a,r)}function B(l){return function(){var e=this,o=arguments;return new Promise(function(t,n){var a=l.apply(e,o);function r(e){rt(a,t,n,r,c,"next",e)}function c(e){rt(a,t,n,r,c,"throw",e)}r(void 0)})}}function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,c=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(c.push(a.value),!t||c.length!==t);o=!0);}catch(e){l=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw r}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ct(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ct(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ct(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function ot(){var s=(c=U(Object(S.useState)(""),2))[0],i=c[1],u=(c=U(Object(S.useState)(0),2))[0],m=c[1],e=(c=U(Object(S.useState)(!0),2))[0],p=c[1],a=((c=U(Object(S.useState)(null),2))[0],c[1]),o=(c=U(Object(S.useState)(0),2))[0],l=c[1],d=(c=U(Object(S.useState)({}),2))[0],f=c[1],y=(c=U(Object(S.useState)("0"),2))[0],g=c[1],t=(c=U(Object(S.useState)("0"),2))[0],b=c[1],n=(c=U(Object(S.useState)("0"),2))[0],v=c[1],r=(c=U(Object(S.useState)([]),2))[0],E=c[1],c=Object(C.g)(),h=parseInt(c.id)-1,x=(Object(S.useEffect)(function(){x(),w(),_(),N()},[]),Object(S.useEffect)(function(){setTimeout(B(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:_();case 1:case"end":return e.stop()}},e)})),1e4)}),function(){var e=B(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window,n=t.klaytn)return e.prev=2,e.next=5,n.enable();e.next=14;break;case 5:k(n),n.on("accountsChanged",function(){k(n)}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log("User denied account access");case 12:e.next=15;break;case 14:console.log("Non-Kaikas browser detected. You should consider trying Kaikas!");case 15:case"end":return e.stop()}},e,null,[[2,9]])}));return function(){return e.apply(this,arguments)}}()),k=function(){var e=B(regeneratorRuntime.mark(function e(){var t,r,n,c,a,o,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window,void 0===(t=t.klaytn))return e.abrupt("return");e.next=3;break;case 3:return r=t.selectedAddress,e.next=6,A.methods.balanceOf(r).call();case 6:n=e.sent,c=[],a=[],o=0;case 10:if(!(o<n)){e.next=18;break}if(4<o)return e.abrupt("break",18);e.next=13;break;case 13:l=function(){var t=B(regeneratorRuntime.mark(function e(t){var n,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.methods.tokenOfOwnerByIndex(r,t).call();case 2:return n=e.sent,e.next=5,A.methods.tokenURI(n).call();case 5:return n=e.sent,e.next=8,fetch(n);case 8:return a=e.sent,e.next=11,a.json();case 11:a=e.sent,c.push(a.image);case 13:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),a.push(l(o));case 15:o++,e.next=10;break;case 18:return e.next=20,Promise.all(a);case 20:i(r),m(n),E(c),p(!1);case 24:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),w=function(){var e=B(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window,void 0===(n=t.klaytn))return e.abrupt("return");e.next=3;break;case 3:a(n.networkVersion),n.on("networkChanged",function(){return a(n.networkVersion)});case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),_=function(){var e=B(regeneratorRuntime.mark(function e(){var t,n,a,r,c,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=new caver.klay.Contract([{constant:!0,inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"proposals",outputs:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"address",name:"proposer",type:"address"},{internalType:"string",name:"title",type:"string"},{internalType:"string",name:"content",type:"string"},{internalType:"string",name:"summary",type:"string"},{internalType:"uint256",name:"blockNumber",type:"uint256"},{internalType:"address",name:"proposenft",type:"address"},{internalType:"uint256",name:"votePeriod",type:"uint256"},{internalType:"bool",name:"canceled",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"_proposalId",type:"uint256"}],name:"status",outputs:[{internalType:"uint8",name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"}],"0x71296B11a5E298d65B6cA395c469e7b5A908B5c4"),e.next=3,t.methods.status(h).call();case 3:return n=e.sent,e.next=6,t.methods.proposals(h).call();case 6:return a=e.sent,e.next=9,caver.klay.getBlockNumber();case 9:r=e.sent,(r=parseInt(a.blockNumber)+parseInt(a.votePeriod)-r)<=0&&(r=0),o=parseInt(r/3600)<10?"0"+parseInt(r/3600):parseInt(r/3600),c=parseInt(r%3600/60)<10?"0"+parseInt(r%3600/60):parseInt(r%3600/60),o=o+":"+c+":"+(r%60<10?"0"+r%60:r%60),l(n),f(a),b(r),v(o);case 20:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),N=function(){var e=B(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=st+"".concat(h),e.next=3,fetch(t).then(function(e){return e.json()});case 3:t=e.sent,console.log(t),g(t);case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),T=function(){var e=B(regeneratorRuntime.mark(function e(){var a,t,r,c,n,o,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N();case 2:a=y.totalTokenIds;try{t=y.addresses[s].balance}catch(e){t=0}r=[],c=[],n=[],o=t;case 8:if(!(o<t+100)){e.next=17;break}if(u-o==0)return console.log("ALL IN"),e.abrupt("break",17);e.next=12;break;case 12:l=function(){var t=B(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.methods.tokenOfOwnerByIndex(s,t).call();case 2:n=e.sent,(a.includes(n)?c:r).push(n);case 4:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),n.push(l(o));case 14:o++,e.next=8;break;case 17:return e.next=19,Promise.all(n);case 19:if(0==r.length)return e.abrupt("return",!1);e.next=21;break;case 21:return e.abrupt("return",[r,c]);case 22:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),I=function(){var t=B(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"POST, GET, OPTIONS","Access-Control-Allow-Headers":"X-PINGOTHER, Content-Type","Access-Control-Max-Age":86400}).then(function(e){return e.json()});case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e.catch(0),alert("서버에 접근하지 못했습니다. 개발자에게 문의해주세요."),e.abrupt("return",!1);case 11:case"end":return e.stop()}},e,null,[[0,7]])}));return function(e){return t.apply(this,arguments)}}(),R=function(){var n=B(regeneratorRuntime.mark(function e(t,n){var a,r,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!=o)return alert("해당 제안의 투표는 종료되었습니다."),e.abrupt("return");e.next=3;break;case 3:return r="투표에 참여해주셔서 감사합니다.\n\n    ".concat(1+h,"번 제안\n    ").concat(d.title,"에 대한 투표입니다.\n\n    한 번 투표할 때마다 최대 100개까지 투표됩니다.\n\n    본인의 수량을 모두 사용할 때까지 투표가 가능합니다.\n    \n    본 메세지는 블록체인 거래를 발생시키거나 트랜잭션 비용(수수료)이 발생하지 않습니다.\n\n    해당 서명이 공식 홈페이지 URI가 맞는지 여러 번 확인해주세요 :)\n    \n    Wallet address:\n    ").concat(s,"\n    \n    Official Contents WebSite:\n    https://nft-kepler-452b.shop\n    "),e.prev=4,e.next=7,caver.klay.sign(r,s);case 7:e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(4),alert("투표가 취소되었습니다."),e.abrupt("return");case 13:return e.next=15,T();case 15:if(a=e.sent){e.next=20;break}return r=y.addresses[s].balance,alert("투표할 수 있는 NFT가 없습니다.\n 앞선 투표 수 : ".concat(r)),e.abrupt("return");case 20:return c=st+"".concat(h,"/").concat(s,"/").concat(t,"/")+String(a[0]),e.next=23,I(c);case 23:(c=e.sent)?(0!=a[1].length&&alert("".concat(a[1].length,"개의 NFT는 이미 투표된 상태입니다. 제외된 상태로 투표가 진행됩니다.")),1==t?alert("".concat(a[0].length,"개 만큼 찬성 투표가 완료되었습니다.")):0==t&&alert("".concat(a[0].length,"개 만큼 반대 투표가 완료되었습니다.")),g(c)):alert("투표중 에러가 발생하였습니다. 다시 시도해주세요.");case 25:case"end":return e.stop()}},e,null,[[4,9]])}));return function(e,t){return n.apply(this,arguments)}}();return P.a.createElement(j,null,P.a.createElement("div",{className:"Proposal"},P.a.createElement(O,{address:s,load:e}),P.a.createElement("div",{className:"container"},P.a.createElement("div",{className:"Proposal__before"},P.a.createElement(M.b,{to:"/governance"},P.a.createElement("div",{className:"prev"},P.a.createElement("img",{src:"images/governance/goback.png"}),P.a.createElement("p",null,"목록으로 돌아가기")))),P.a.createElement("div",{className:"Proposal__contents"},P.a.createElement("div",{className:"Proposal__title"},d.title),P.a.createElement("div",{className:"Proposal__status"},P.a.createElement("div",{className:"Proposal__period"},P.a.createElement("div",{className:"blockNumber_label"},P.a.createElement("p",null,"시작 블록넘버"),P.a.createElement("p",null,"남은 블록넘버")),P.a.createElement("div",{className:"blockNumber"},P.a.createElement("p",null,d.blockNumber),P.a.createElement("p",null,t))),P.a.createElement("div",{className:"Proposal__vote"},P.a.createElement("div",{className:"vote__type"},P.a.createElement("ul",null,P.a.createElement("li",null,"찬성"),P.a.createElement("li",null,"반대"))),P.a.createElement("div",{className:"vote__count"},P.a.createElement("ul",null,P.a.createElement("li",null,y.voteAgree),P.a.createElement("li",null,y.voteDegree))))),P.a.createElement("div",{className:"Proposal__info"},"블록이 밀리지 않았다는 가정 하에 ",n," 만큼 남았습니다."),P.a.createElement("div",{className:"Proposal__proposer"},P.a.createElement("h2",{className:"sub_title"},"작성자"),P.a.createElement("p",null,s)),P.a.createElement("div",{className:"Proposal__detail"},P.a.createElement("h2",{className:"sub_title"},"세부 내용"),P.a.createElement("p",null,d.content)),P.a.createElement("div",{className:"Proposal__detail"},P.a.createElement("h2",{className:"sub_title"},"요약"),P.a.createElement("p",null,d.summary)),P.a.createElement("div",{className:"Proposal__btn"},P.a.createElement("div",{type:"submit",className:"btn-suggest",onClick:function(e){return R(1,e)}},"찬성하기"),P.a.createElement("div",{type:"submit",className:"btn-suggest",onClick:function(e){return R(0,e)}},"반대하기")),P.a.createElement("div",{className:"Vote__nft"},P.a.createElement("h2",{className:"sub_title"},"MY NFT"),P.a.createElement("div",{className:"nft__count"},P.a.createElement("p",null,"수량: ",u,"개")),P.a.createElement("div",{className:"nft"},0!=r.length?r.map(function(e,t){return P.a.createElement(P.a.Fragment,null,P.a.createElement(be,{key:e,tokenURI:r[t]}))}):P.a.createElement("h2",null,"NFT가 없습니다. 투표할 수 없습니다.")))))))}function lt(){return P.a.createElement(M.a,null,P.a.createElement("div",{className:"App"},P.a.createElement(C.c,{basename:"/"},P.a.createElement(C.a,{path:"/",element:P.a.createElement(W,null)}),P.a.createElement(C.a,{path:"/box",element:P.a.createElement(ie,null)}),P.a.createElement(C.a,{path:"/mining",element:P.a.createElement(he,null)}),P.a.createElement(C.a,{path:"/evol",element:P.a.createElement(Oe,null)}),P.a.createElement(C.a,{path:"/shop",element:P.a.createElement(De,null)}),P.a.createElement(C.a,{path:"/governance",element:P.a.createElement(Je,null)}),P.a.createElement(C.a,{path:"/governance/:id",element:P.a.createElement(ot,null)}),P.a.createElement(C.a,{path:"/proposal",element:P.a.createElement(at,null)}))))}var st="https://governance.api.kepler-452b.net/governance/",$=(t(658),t(659),t(660),document.getElementById("root"));e.a.render(P.a.createElement(lt,null),$)},9:function(e){e.exports=JSON.parse('{"large_potion":[0.6,1.2,3],"medium_potion":[1.8,2.4,3],"small_potion":[5.4,4.8,3],"large_mix_potion":[0.2,0.4,1],"medium_mix_potion":[0.6,0.8,1],"small_mix_potion":[1.8,1.6,1],"stone":[0.5,1.1,2],"advanced_pickaxe":[3.5,5.5,10],"intermediate_pickaxe":[10.5,11,10],"low_pickaxe":[31.5,22,10]}')}});